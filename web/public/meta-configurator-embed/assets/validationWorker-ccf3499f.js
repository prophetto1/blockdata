var Gu=Object.defineProperty;var Hu=(ce,de,he)=>de in ce?Gu(ce,de,{enumerable:!0,configurable:!0,writable:!0,value:he}):ce[de]=he;var yn=(ce,de,he)=>(Hu(ce,typeof de!="symbol"?de+"":de,he),he);(function(){"use strict";function ce(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var de={exports:{}},he={},ae={},De={},Ze={},M={},Be={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(g){if(super(),!e.IDENTIFIER.test(g))throw new Error("CodeGen: name must be a valid identifier");this.str=g}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(g){super(),this._items=typeof g=="string"?[g]:g}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const g=this._items[0];return g===""||g==='""'}get str(){var g;return(g=this._str)!==null&&g!==void 0?g:this._str=this._items.reduce((S,N)=>`${S}${N}`,"")}get names(){var g;return(g=this._names)!==null&&g!==void 0?g:this._names=this._items.reduce((S,N)=>(N instanceof r&&(S[N.str]=(S[N.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function a(m,...g){const S=[m[0]];let N=0;for(;N<g.length;)c(S,g[N]),S.push(m[++N]);return new n(S)}e._=a;const s=new n("+");function o(m,...g){const S=[_(m[0])];let N=0;for(;N<g.length;)S.push(s),c(S,g[N]),S.push(s,_(m[++N]));return u(S),new n(S)}e.str=o;function c(m,g){g instanceof n?m.push(...g._items):g instanceof r?m.push(g):m.push(h(g))}e.addCodeArg=c;function u(m){let g=1;for(;g<m.length-1;){if(m[g]===s){const S=d(m[g-1],m[g+1]);if(S!==void 0){m.splice(g-1,3,S);continue}m[g++]="+"}g++}}function d(m,g){if(g==='""')return m;if(m==='""')return g;if(typeof m=="string")return g instanceof r||m[m.length-1]!=='"'?void 0:typeof g!="string"?`${m.slice(0,-1)}${g}"`:g[0]==='"'?m.slice(0,-1)+g.slice(1):void 0;if(typeof g=="string"&&g[0]==='"'&&!(m instanceof r))return`"${m}${g.slice(1)}`}function l(m,g){return g.emptyStr()?m:m.emptyStr()?g:o`${m}${g}`}e.strConcat=l;function h(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:_(Array.isArray(m)?m.join(","):m)}function w(m){return new n(_(m))}e.stringify=w;function _(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=_;function v(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):a`[${m}]`}e.getProperty=v;function b(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=b;function p(m){return new n(m.toString())}e.regexpCode=p})(Be);var Lt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Be;class r extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var n;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:d,parent:l}={}){this._names={},this._prefixes=d,this._parent=l}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const l=this._names[d]||this._nameGroup(d);return`${d}${l.index++}`}_nameGroup(d){var l,h;if(!((h=(l=this._parent)===null||l===void 0?void 0:l._prefixes)===null||h===void 0)&&h.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=a;class s extends t.Name{constructor(d,l){super(l),this.prefix=d}setValue(d,{property:l,itemIndex:h}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(l)}[${h}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class c extends a{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?o:t.nil}}get(){return this._scope}name(d){return new s(d,this._newName(d))}value(d,l){var h;if(l.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const w=this.toName(d),{prefix:_}=w,v=(h=l.key)!==null&&h!==void 0?h:l.ref;let b=this._values[_];if(b){const g=b.get(v);if(g)return g}else b=this._values[_]=new Map;b.set(v,w);const p=this._scope[_]||(this._scope[_]=[]),m=p.length;return p[m]=l.ref,w.setValue(l,{property:_,itemIndex:m}),w}getValue(d,l){const h=this._values[d];if(h)return h.get(l)}scopeRefs(d,l=this._values){return this._reduceValues(l,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${d}${h.scopePath}`})}scopeCode(d=this._values,l,h){return this._reduceValues(d,w=>{if(w.value===void 0)throw new Error(`CodeGen: name "${w}" has no value`);return w.value.code},l,h)}_reduceValues(d,l,h={},w){let _=t.nil;for(const v in d){const b=d[v];if(!b)continue;const p=h[v]=h[v]||new Map;b.forEach(m=>{if(p.has(m))return;p.set(m,n.Started);let g=l(m);if(g){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;_=(0,t._)`${_}${S} ${m} = ${g};${this.opts._n}`}else if(g=w==null?void 0:w(m))_=(0,t._)`${_}${g}${this.opts._n}`;else throw new r(m);p.set(m,n.Completed)})}return _}}e.ValueScope=c})(Lt),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Be,r=Lt;var n=Be;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Lt;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(i,f){return this}}class o extends s{constructor(i,f,P){super(),this.varKind=i,this.name=f,this.rhs=P}render({es5:i,_n:f}){const P=i?r.varKinds.var:this.varKind,A=this.rhs===void 0?"":` = ${this.rhs}`;return`${P} ${this.name}${A};`+f}optimizeNames(i,f){if(i[this.name.str])return this.rhs&&(this.rhs=oe(this.rhs,i,f)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class c extends s{constructor(i,f,P){super(),this.lhs=i,this.rhs=f,this.sideEffects=P}render({_n:i}){return`${this.lhs} = ${this.rhs};`+i}optimizeNames(i,f){if(!(this.lhs instanceof t.Name&&!i[this.lhs.str]&&!this.sideEffects))return this.rhs=oe(this.rhs,i,f),this}get names(){const i=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ne(i,this.rhs)}}class u extends c{constructor(i,f,P,A){super(i,P,A),this.op=f}render({_n:i}){return`${this.lhs} ${this.op}= ${this.rhs};`+i}}class d extends s{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`${this.label}:`+i}}class l extends s{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`break${this.label?` ${this.label}`:""};`+i}}class h extends s{constructor(i){super(),this.error=i}render({_n:i}){return`throw ${this.error};`+i}get names(){return this.error.names}}class w extends s{constructor(i){super(),this.code=i}render({_n:i}){return`${this.code};`+i}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(i,f){return this.code=oe(this.code,i,f),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class _ extends s{constructor(i=[]){super(),this.nodes=i}render(i){return this.nodes.reduce((f,P)=>f+P.render(i),"")}optimizeNodes(){const{nodes:i}=this;let f=i.length;for(;f--;){const P=i[f].optimizeNodes();Array.isArray(P)?i.splice(f,1,...P):P?i[f]=P:i.splice(f,1)}return i.length>0?this:void 0}optimizeNames(i,f){const{nodes:P}=this;let A=P.length;for(;A--;){const I=P[A];I.optimizeNames(i,f)||(ve(i,I.names),P.splice(A,1))}return P.length>0?this:void 0}get names(){return this.nodes.reduce((i,f)=>H(i,f.names),{})}}class v extends _{render(i){return"{"+i._n+super.render(i)+"}"+i._n}}class b extends _{}class p extends v{}p.kind="else";class m extends v{constructor(i,f){super(f),this.condition=i}render(i){let f=`if(${this.condition})`+super.render(i);return this.else&&(f+="else "+this.else.render(i)),f}optimizeNodes(){super.optimizeNodes();const i=this.condition;if(i===!0)return this.nodes;let f=this.else;if(f){const P=f.optimizeNodes();f=this.else=Array.isArray(P)?new p(P):P}if(f)return i===!1?f instanceof m?f:f.nodes:this.nodes.length?this:new m(Kt(i),f instanceof m?[f]:f.nodes);if(!(i===!1||!this.nodes.length))return this}optimizeNames(i,f){var P;if(this.else=(P=this.else)===null||P===void 0?void 0:P.optimizeNames(i,f),!!(super.optimizeNames(i,f)||this.else))return this.condition=oe(this.condition,i,f),this}get names(){const i=super.names;return ne(i,this.condition),this.else&&H(i,this.else.names),i}}m.kind="if";class g extends v{}g.kind="for";class S extends g{constructor(i){super(),this.iteration=i}render(i){return`for(${this.iteration})`+super.render(i)}optimizeNames(i,f){if(super.optimizeNames(i,f))return this.iteration=oe(this.iteration,i,f),this}get names(){return H(super.names,this.iteration.names)}}class N extends g{constructor(i,f,P,A){super(),this.varKind=i,this.name=f,this.from=P,this.to=A}render(i){const f=i.es5?r.varKinds.var:this.varKind,{name:P,from:A,to:I}=this;return`for(${f} ${P}=${A}; ${P}<${I}; ${P}++)`+super.render(i)}get names(){const i=ne(super.names,this.from);return ne(i,this.to)}}class R extends g{constructor(i,f,P,A){super(),this.loop=i,this.varKind=f,this.name=P,this.iterable=A}render(i){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(i)}optimizeNames(i,f){if(super.optimizeNames(i,f))return this.iterable=oe(this.iterable,i,f),this}get names(){return H(super.names,this.iterable.names)}}class F extends v{constructor(i,f,P){super(),this.name=i,this.args=f,this.async=P}render(i){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(i)}}F.kind="func";class W extends _{render(i){return"return "+super.render(i)}}W.kind="return";class me extends v{render(i){let f="try"+super.render(i);return this.catch&&(f+=this.catch.render(i)),this.finally&&(f+=this.finally.render(i)),f}optimizeNodes(){var i,f;return super.optimizeNodes(),(i=this.catch)===null||i===void 0||i.optimizeNodes(),(f=this.finally)===null||f===void 0||f.optimizeNodes(),this}optimizeNames(i,f){var P,A;return super.optimizeNames(i,f),(P=this.catch)===null||P===void 0||P.optimizeNames(i,f),(A=this.finally)===null||A===void 0||A.optimizeNames(i,f),this}get names(){const i=super.names;return this.catch&&H(i,this.catch.names),this.finally&&H(i,this.finally.names),i}}class T extends v{constructor(i){super(),this.error=i}render(i){return`catch(${this.error})`+super.render(i)}}T.kind="catch";class z extends v{render(i){return"finally"+super.render(i)}}z.kind="finally";class Z{constructor(i,f={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...f,_n:f.lines?`
`:""},this._extScope=i,this._scope=new r.Scope({parent:i}),this._nodes=[new b]}toString(){return this._root.render(this.opts)}name(i){return this._scope.name(i)}scopeName(i){return this._extScope.name(i)}scopeValue(i,f){const P=this._extScope.value(i,f);return(this._values[P.prefix]||(this._values[P.prefix]=new Set)).add(P),P}getScopeValue(i,f){return this._extScope.getValue(i,f)}scopeRefs(i){return this._extScope.scopeRefs(i,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(i,f,P,A){const I=this._scope.toName(f);return P!==void 0&&A&&(this._constants[I.str]=P),this._leafNode(new o(i,I,P)),I}const(i,f,P){return this._def(r.varKinds.const,i,f,P)}let(i,f,P){return this._def(r.varKinds.let,i,f,P)}var(i,f,P){return this._def(r.varKinds.var,i,f,P)}assign(i,f,P){return this._leafNode(new c(i,f,P))}add(i,f){return this._leafNode(new u(i,e.operators.ADD,f))}code(i){return typeof i=="function"?i():i!==t.nil&&this._leafNode(new w(i)),this}object(...i){const f=["{"];for(const[P,A]of i)f.length>1&&f.push(","),f.push(P),(P!==A||this.opts.es5)&&(f.push(":"),(0,t.addCodeArg)(f,A));return f.push("}"),new t._Code(f)}if(i,f,P){if(this._blockNode(new m(i)),f&&P)this.code(f).else().code(P).endIf();else if(f)this.code(f).endIf();else if(P)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(i){return this._elseNode(new m(i))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(m,p)}_for(i,f){return this._blockNode(i),f&&this.code(f).endFor(),this}for(i,f){return this._for(new S(i),f)}forRange(i,f,P,A,I=this.opts.es5?r.varKinds.var:r.varKinds.let){const K=this._scope.toName(i);return this._for(new N(I,K,f,P),()=>A(K))}forOf(i,f,P,A=r.varKinds.const){const I=this._scope.toName(i);if(this.opts.es5){const K=f instanceof t.Name?f:this.var("_arr",f);return this.forRange("_i",0,(0,t._)`${K}.length`,q=>{this.var(I,(0,t._)`${K}[${q}]`),P(I)})}return this._for(new R("of",A,I,f),()=>P(I))}forIn(i,f,P,A=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(i,(0,t._)`Object.keys(${f})`,P);const I=this._scope.toName(i);return this._for(new R("in",A,I,f),()=>P(I))}endFor(){return this._endBlockNode(g)}label(i){return this._leafNode(new d(i))}break(i){return this._leafNode(new l(i))}return(i){const f=new W;if(this._blockNode(f),this.code(i),f.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(W)}try(i,f,P){if(!f&&!P)throw new Error('CodeGen: "try" without "catch" and "finally"');const A=new me;if(this._blockNode(A),this.code(i),f){const I=this.name("e");this._currNode=A.catch=new T(I),f(I)}return P&&(this._currNode=A.finally=new z,this.code(P)),this._endBlockNode(T,z)}throw(i){return this._leafNode(new h(i))}block(i,f){return this._blockStarts.push(this._nodes.length),i&&this.code(i).endBlock(f),this}endBlock(i){const f=this._blockStarts.pop();if(f===void 0)throw new Error("CodeGen: not in self-balancing block");const P=this._nodes.length-f;if(P<0||i!==void 0&&P!==i)throw new Error(`CodeGen: wrong number of nodes: ${P} vs ${i} expected`);return this._nodes.length=f,this}func(i,f=t.nil,P,A){return this._blockNode(new F(i,f,P)),A&&this.code(A).endFunc(),this}endFunc(){return this._endBlockNode(F)}optimize(i=1){for(;i-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(i){return this._currNode.nodes.push(i),this}_blockNode(i){this._currNode.nodes.push(i),this._nodes.push(i)}_endBlockNode(i,f){const P=this._currNode;if(P instanceof i||f&&P instanceof f)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${f?`${i.kind}/${f.kind}`:i.kind}"`)}_elseNode(i){const f=this._currNode;if(!(f instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=f.else=i,this}get _root(){return this._nodes[0]}get _currNode(){const i=this._nodes;return i[i.length-1]}set _currNode(i){const f=this._nodes;f[f.length-1]=i}}e.CodeGen=Z;function H(y,i){for(const f in i)y[f]=(y[f]||0)+(i[f]||0);return y}function ne(y,i){return i instanceof t._CodeOrName?H(y,i.names):y}function oe(y,i,f){if(y instanceof t.Name)return P(y);if(!A(y))return y;return new t._Code(y._items.reduce((I,K)=>(K instanceof t.Name&&(K=P(K)),K instanceof t._Code?I.push(...K._items):I.push(K),I),[]));function P(I){const K=f[I.str];return K===void 0||i[I.str]!==1?I:(delete i[I.str],K)}function A(I){return I instanceof t._Code&&I._items.some(K=>K instanceof t.Name&&i[K.str]===1&&f[K.str]!==void 0)}}function ve(y,i){for(const f in i)y[f]=(y[f]||0)-(i[f]||0)}function Kt(y){return typeof y=="boolean"||typeof y=="number"||y===null?!y:(0,t._)`!${E(y)}`}e.not=Kt;const en=$(e.operators.AND);function tn(...y){return y.reduce(en)}e.and=tn;const Ut=$(e.operators.OR);function j(...y){return y.reduce(Ut)}e.or=j;function $(y){return(i,f)=>i===t.nil?f:f===t.nil?i:(0,t._)`${E(i)} ${y} ${E(f)}`}function E(y){return y instanceof t.Name?y:(0,t._)`(${y})`}}(M);var O={};Object.defineProperty(O,"__esModule",{value:!0}),O.checkStrictMode=O.getErrorPath=O.Type=O.useFunc=O.setEvaluated=O.evaluatedPropsToName=O.mergeEvaluated=O.eachItem=O.unescapeJsonPointer=O.escapeJsonPointer=O.escapeFragment=O.unescapeFragment=O.schemaRefOrVal=O.schemaHasRulesButRef=O.schemaHasRules=O.checkUnknownRules=O.alwaysValidSchema=O.toHash=void 0;const U=M,es=Be;function ts(e){const t={};for(const r of e)t[r]=!0;return t}O.toHash=ts;function rs(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(vn(e,t),!gn(t,e.self.RULES.all))}O.alwaysValidSchema=rs;function vn(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const a=n.RULES.keywords;for(const s in t)a[s]||En(e,`unknown keyword: "${s}"`)}O.checkUnknownRules=vn;function gn(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}O.schemaHasRules=gn;function ns(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}O.schemaHasRulesButRef=ns;function as({topSchemaRef:e,schemaPath:t},r,n,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,U._)`${r}`}return(0,U._)`${e}${t}${(0,U.getProperty)(n)}`}O.schemaRefOrVal=as;function ss(e){return _n(decodeURIComponent(e))}O.unescapeFragment=ss;function os(e){return encodeURIComponent(Gt(e))}O.escapeFragment=os;function Gt(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}O.escapeJsonPointer=Gt;function _n(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}O.unescapeJsonPointer=_n;function is(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}O.eachItem=is;function bn({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(a,s,o,c)=>{const u=o===void 0?s:o instanceof U.Name?(s instanceof U.Name?e(a,s,o):t(a,s,o),o):s instanceof U.Name?(t(a,o,s),s):r(s,o);return c===U.Name&&!(u instanceof U.Name)?n(a,u):u}}O.mergeEvaluated={props:bn({mergeNames:(e,t,r)=>e.if((0,U._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,U._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,U._)`${r} || {}`).code((0,U._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,U._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,U._)`${r} || {}`),Ht(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:wn}),items:bn({mergeNames:(e,t,r)=>e.if((0,U._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,U._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,U._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,U._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function wn(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,U._)`{}`);return t!==void 0&&Ht(e,r,t),r}O.evaluatedPropsToName=wn;function Ht(e,t,r){Object.keys(r).forEach(n=>e.assign((0,U._)`${t}${(0,U.getProperty)(n)}`,!0))}O.setEvaluated=Ht;const Pn={};function cs(e,t){return e.scopeValue("func",{ref:t,code:Pn[t.code]||(Pn[t.code]=new es._Code(t.code))})}O.useFunc=cs;var Jt;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Jt||(O.Type=Jt={}));function ds(e,t,r){if(e instanceof U.Name){const n=t===Jt.Num;return r?n?(0,U._)`"[" + ${e} + "]"`:(0,U._)`"['" + ${e} + "']"`:n?(0,U._)`"/" + ${e}`:(0,U._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,U.getProperty)(e).toString():"/"+Gt(e)}O.getErrorPath=ds;function En(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}O.checkStrictMode=En;var se={};Object.defineProperty(se,"__esModule",{value:!0});const x=M,us={data:new x.Name("data"),valCxt:new x.Name("valCxt"),instancePath:new x.Name("instancePath"),parentData:new x.Name("parentData"),parentDataProperty:new x.Name("parentDataProperty"),rootData:new x.Name("rootData"),dynamicAnchors:new x.Name("dynamicAnchors"),vErrors:new x.Name("vErrors"),errors:new x.Name("errors"),this:new x.Name("this"),self:new x.Name("self"),scope:new x.Name("scope"),json:new x.Name("json"),jsonPos:new x.Name("jsonPos"),jsonLen:new x.Name("jsonLen"),jsonPart:new x.Name("jsonPart")};se.default=us,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=M,r=O,n=se;e.keywordError={message:({keyword:p})=>(0,t.str)`must pass "${p}" keyword validation`},e.keyword$DataError={message:({keyword:p,schemaType:m})=>m?(0,t.str)`"${p}" keyword must be ${m} ($data)`:(0,t.str)`"${p}" keyword is invalid ($data)`};function a(p,m=e.keywordError,g,S){const{it:N}=p,{gen:R,compositeRule:F,allErrors:W}=N,me=h(p,m,g);S??(F||W)?u(R,me):d(N,(0,t._)`[${me}]`)}e.reportError=a;function s(p,m=e.keywordError,g){const{it:S}=p,{gen:N,compositeRule:R,allErrors:F}=S,W=h(p,m,g);u(N,W),R||F||d(S,n.default.vErrors)}e.reportExtraError=s;function o(p,m){p.assign(n.default.errors,m),p.if((0,t._)`${n.default.vErrors} !== null`,()=>p.if(m,()=>p.assign((0,t._)`${n.default.vErrors}.length`,m),()=>p.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function c({gen:p,keyword:m,schemaValue:g,data:S,errsCount:N,it:R}){if(N===void 0)throw new Error("ajv implementation error");const F=p.name("err");p.forRange("i",N,n.default.errors,W=>{p.const(F,(0,t._)`${n.default.vErrors}[${W}]`),p.if((0,t._)`${F}.instancePath === undefined`,()=>p.assign((0,t._)`${F}.instancePath`,(0,t.strConcat)(n.default.instancePath,R.errorPath))),p.assign((0,t._)`${F}.schemaPath`,(0,t.str)`${R.errSchemaPath}/${m}`),R.opts.verbose&&(p.assign((0,t._)`${F}.schema`,g),p.assign((0,t._)`${F}.data`,S))})}e.extendErrors=c;function u(p,m){const g=p.const("err",m);p.if((0,t._)`${n.default.vErrors} === null`,()=>p.assign(n.default.vErrors,(0,t._)`[${g}]`),(0,t._)`${n.default.vErrors}.push(${g})`),p.code((0,t._)`${n.default.errors}++`)}function d(p,m){const{gen:g,validateName:S,schemaEnv:N}=p;N.$async?g.throw((0,t._)`new ${p.ValidationError}(${m})`):(g.assign((0,t._)`${S}.errors`,m),g.return(!1))}const l={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(p,m,g){const{createErrors:S}=p.it;return S===!1?(0,t._)`{}`:w(p,m,g)}function w(p,m,g={}){const{gen:S,it:N}=p,R=[_(N,g),v(p,g)];return b(p,m,R),S.object(...R)}function _({errorPath:p},{instancePath:m}){const g=m?(0,t.str)`${p}${(0,r.getErrorPath)(m,r.Type.Str)}`:p;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,g)]}function v({keyword:p,it:{errSchemaPath:m}},{schemaPath:g,parentSchema:S}){let N=S?m:(0,t.str)`${m}/${p}`;return g&&(N=(0,t.str)`${N}${(0,r.getErrorPath)(g,r.Type.Str)}`),[l.schemaPath,N]}function b(p,{params:m,message:g},S){const{keyword:N,data:R,schemaValue:F,it:W}=p,{opts:me,propertyName:T,topSchemaRef:z,schemaPath:Z}=W;S.push([l.keyword,N],[l.params,typeof m=="function"?m(p):m||(0,t._)`{}`]),me.messages&&S.push([l.message,typeof g=="function"?g(p):g]),me.verbose&&S.push([l.schema,F],[l.parentSchema,(0,t._)`${z}${Z}`],[n.default.data,R]),T&&S.push([l.propertyName,T])}}(Ze),Object.defineProperty(De,"__esModule",{value:!0}),De.boolOrEmptySchema=De.topBoolOrEmptySchema=void 0;const ls=Ze,fs=M,ms=se,hs={message:"boolean schema is false"};function ps(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Sn(e,!1):typeof r=="object"&&r.$async===!0?t.return(ms.default.data):(t.assign((0,fs._)`${n}.errors`,null),t.return(!0))}De.topBoolOrEmptySchema=ps;function $s(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Sn(e)):r.var(t,!0)}De.boolOrEmptySchema=$s;function Sn(e,t){const{gen:r,data:n}=e,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,ls.reportError)(a,hs,void 0,t)}var B={},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.getRules=Oe.isJSONType=void 0;const ys=["string","number","integer","boolean","null","object","array"],vs=new Set(ys);function gs(e){return typeof e=="string"&&vs.has(e)}Oe.isJSONType=gs;function _s(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Oe.getRules=_s;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.shouldUseRule=ge.shouldUseGroup=ge.schemaHasRulesForType=void 0;function bs({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&jn(e,n)}ge.schemaHasRulesForType=bs;function jn(e,t){return t.rules.some(r=>Nn(e,r))}ge.shouldUseGroup=jn;function Nn(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}ge.shouldUseRule=Nn,Object.defineProperty(B,"__esModule",{value:!0}),B.reportTypeError=B.checkDataTypes=B.checkDataType=B.coerceAndCheckDataType=B.getJSONTypes=B.getSchemaTypes=B.DataType=void 0;const ws=Oe,Ps=ge,Es=Ze,D=M,On=O;var Ve;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Ve||(B.DataType=Ve={}));function Ss(e){const t=Rn(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}B.getSchemaTypes=Ss;function Rn(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(ws.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}B.getJSONTypes=Rn;function js(e,t){const{gen:r,data:n,opts:a}=e,s=Ns(t,a.coerceTypes),o=t.length>0&&!(s.length===0&&t.length===1&&(0,Ps.schemaHasRulesForType)(e,t[0]));if(o){const c=Zt(t,n,a.strictNumbers,Ve.Wrong);r.if(c,()=>{s.length?Os(e,t,s):Bt(e)})}return o}B.coerceAndCheckDataType=js;const kn=new Set(["string","number","integer","boolean","null"]);function Ns(e,t){return t?e.filter(r=>kn.has(r)||t==="array"&&r==="array"):[]}function Os(e,t,r){const{gen:n,data:a,opts:s}=e,o=n.let("dataType",(0,D._)`typeof ${a}`),c=n.let("coerced",(0,D._)`undefined`);s.coerceTypes==="array"&&n.if((0,D._)`${o} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,D._)`${a}[0]`).assign(o,(0,D._)`typeof ${a}`).if(Zt(t,a,s.strictNumbers),()=>n.assign(c,a))),n.if((0,D._)`${c} !== undefined`);for(const d of r)(kn.has(d)||d==="array"&&s.coerceTypes==="array")&&u(d);n.else(),Bt(e),n.endIf(),n.if((0,D._)`${c} !== undefined`,()=>{n.assign(a,c),Rs(e,c)});function u(d){switch(d){case"string":n.elseIf((0,D._)`${o} == "number" || ${o} == "boolean"`).assign(c,(0,D._)`"" + ${a}`).elseIf((0,D._)`${a} === null`).assign(c,(0,D._)`""`);return;case"number":n.elseIf((0,D._)`${o} == "boolean" || ${a} === null
              || (${o} == "string" && ${a} && ${a} == +${a})`).assign(c,(0,D._)`+${a}`);return;case"integer":n.elseIf((0,D._)`${o} === "boolean" || ${a} === null
              || (${o} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(c,(0,D._)`+${a}`);return;case"boolean":n.elseIf((0,D._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(c,!1).elseIf((0,D._)`${a} === "true" || ${a} === 1`).assign(c,!0);return;case"null":n.elseIf((0,D._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(c,null);return;case"array":n.elseIf((0,D._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${a} === null`).assign(c,(0,D._)`[${a}]`)}}}function Rs({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,D._)`${t} !== undefined`,()=>e.assign((0,D._)`${t}[${r}]`,n))}function Wt(e,t,r,n=Ve.Correct){const a=n===Ve.Correct?D.operators.EQ:D.operators.NEQ;let s;switch(e){case"null":return(0,D._)`${t} ${a} null`;case"array":s=(0,D._)`Array.isArray(${t})`;break;case"object":s=(0,D._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=o((0,D._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=o();break;default:return(0,D._)`typeof ${t} ${a} ${e}`}return n===Ve.Correct?s:(0,D.not)(s);function o(c=D.nil){return(0,D.and)((0,D._)`typeof ${t} == "number"`,c,r?(0,D._)`isFinite(${t})`:D.nil)}}B.checkDataType=Wt;function Zt(e,t,r,n){if(e.length===1)return Wt(e[0],t,r,n);let a;const s=(0,On.toHash)(e);if(s.array&&s.object){const o=(0,D._)`typeof ${t} != "object"`;a=s.null?o:(0,D._)`!${t} || ${o}`,delete s.null,delete s.array,delete s.object}else a=D.nil;s.number&&delete s.integer;for(const o in s)a=(0,D.and)(a,Wt(o,t,r,n));return a}B.checkDataTypes=Zt;const ks={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,D._)`{type: ${e}}`:(0,D._)`{type: ${t}}`};function Bt(e){const t=As(e);(0,Es.reportError)(t,ks)}B.reportTypeError=Bt;function As(e){const{gen:t,data:r,schema:n}=e,a=(0,On.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:e}}var ct={};Object.defineProperty(ct,"__esModule",{value:!0}),ct.assignDefaults=void 0;const ze=M,Is=O;function Ts(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const a in r)An(e,a,r[a].default);else t==="array"&&Array.isArray(n)&&n.forEach((a,s)=>An(e,s,a.default))}ct.assignDefaults=Ts;function An(e,t,r){const{gen:n,compositeRule:a,data:s,opts:o}=e;if(r===void 0)return;const c=(0,ze._)`${s}${(0,ze.getProperty)(t)}`;if(a){(0,Is.checkStrictMode)(e,`default is ignored for: ${c}`);return}let u=(0,ze._)`${c} === undefined`;o.useDefaults==="empty"&&(u=(0,ze._)`${u} || ${c} === null || ${c} === ""`),n.if(u,(0,ze._)`${c} = ${(0,ze.stringify)(r)}`)}var pe={},V={};Object.defineProperty(V,"__esModule",{value:!0}),V.validateUnion=V.validateArray=V.usePattern=V.callValidateCode=V.schemaProperties=V.allSchemaProperties=V.noPropertyInData=V.propertyInData=V.isOwnProperty=V.hasPropFunc=V.reportMissingProp=V.checkMissingProp=V.checkReportMissingProp=void 0;const G=M,Xt=O,Pe=se,Ms=O;function Cs(e,t){const{gen:r,data:n,it:a}=e;r.if(Qt(r,n,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,G._)`${t}`},!0),e.error()})}V.checkReportMissingProp=Cs;function Ds({gen:e,data:t,it:{opts:r}},n,a){return(0,G.or)(...n.map(s=>(0,G.and)(Qt(e,t,s,r.ownProperties),(0,G._)`${a} = ${s}`)))}V.checkMissingProp=Ds;function Vs(e,t){e.setParams({missingProperty:t},!0),e.error()}V.reportMissingProp=Vs;function In(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,G._)`Object.prototype.hasOwnProperty`})}V.hasPropFunc=In;function Yt(e,t,r){return(0,G._)`${In(e)}.call(${t}, ${r})`}V.isOwnProperty=Yt;function zs(e,t,r,n){const a=(0,G._)`${t}${(0,G.getProperty)(r)} !== undefined`;return n?(0,G._)`${a} && ${Yt(e,t,r)}`:a}V.propertyInData=zs;function Qt(e,t,r,n){const a=(0,G._)`${t}${(0,G.getProperty)(r)} === undefined`;return n?(0,G.or)(a,(0,G.not)(Yt(e,t,r))):a}V.noPropertyInData=Qt;function Tn(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}V.allSchemaProperties=Tn;function qs(e,t){return Tn(t).filter(r=>!(0,Xt.alwaysValidSchema)(e,t[r]))}V.schemaProperties=qs;function Fs({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:s},it:o},c,u,d){const l=d?(0,G._)`${e}, ${t}, ${n}${a}`:t,h=[[Pe.default.instancePath,(0,G.strConcat)(Pe.default.instancePath,s)],[Pe.default.parentData,o.parentData],[Pe.default.parentDataProperty,o.parentDataProperty],[Pe.default.rootData,Pe.default.rootData]];o.opts.dynamicRef&&h.push([Pe.default.dynamicAnchors,Pe.default.dynamicAnchors]);const w=(0,G._)`${l}, ${r.object(...h)}`;return u!==G.nil?(0,G._)`${c}.call(${u}, ${w})`:(0,G._)`${c}(${w})`}V.callValidateCode=Fs;const Ks=(0,G._)`new RegExp`;function Us({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:a}=t.code,s=a(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,G._)`${a.code==="new RegExp"?Ks:(0,Ms.useFunc)(e,a)}(${r}, ${n})`})}V.usePattern=Us;function Ls(e){const{gen:t,data:r,keyword:n,it:a}=e,s=t.name("valid");if(a.allErrors){const c=t.let("valid",!0);return o(()=>t.assign(c,!1)),c}return t.var(s,!0),o(()=>t.break()),s;function o(c){const u=t.const("len",(0,G._)`${r}.length`);t.forRange("i",0,u,d=>{e.subschema({keyword:n,dataProp:d,dataPropType:Xt.Type.Num},s),t.if((0,G.not)(s),c)})}}V.validateArray=Ls;function Gs(e){const{gen:t,schema:r,keyword:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,Xt.alwaysValidSchema)(a,u))&&!a.opts.unevaluated)return;const o=t.let("valid",!1),c=t.name("_valid");t.block(()=>r.forEach((u,d)=>{const l=e.subschema({keyword:n,schemaProp:d,compositeRule:!0},c);t.assign(o,(0,G._)`${o} || ${c}`),e.mergeValidEvaluated(l,c)||t.if((0,G.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}V.validateUnion=Gs,Object.defineProperty(pe,"__esModule",{value:!0}),pe.validateKeywordUsage=pe.validSchemaType=pe.funcKeywordCode=pe.macroKeywordCode=void 0;const ee=M,Re=se,Hs=V,Js=Ze;function Ws(e,t){const{gen:r,keyword:n,schema:a,parentSchema:s,it:o}=e,c=t.macro.call(o.self,a,s,o),u=Cn(r,n,c);o.opts.validateSchema!==!1&&o.self.validateSchema(c,!0);const d=r.name("valid");e.subschema({schema:c,schemaPath:ee.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},d),e.pass(d,()=>e.error(!0))}pe.macroKeywordCode=Ws;function Zs(e,t){var r;const{gen:n,keyword:a,schema:s,parentSchema:o,$data:c,it:u}=e;Xs(u,t);const d=!c&&t.compile?t.compile.call(u.self,s,o,u):t.validate,l=Cn(n,a,d),h=n.let("valid");e.block$data(h,w),e.ok((r=t.valid)!==null&&r!==void 0?r:h);function w(){if(t.errors===!1)b(),t.modifying&&Mn(e),p(()=>e.error());else{const m=t.async?_():v();t.modifying&&Mn(e),p(()=>Bs(e,m))}}function _(){const m=n.let("ruleErrs",null);return n.try(()=>b((0,ee._)`await `),g=>n.assign(h,!1).if((0,ee._)`${g} instanceof ${u.ValidationError}`,()=>n.assign(m,(0,ee._)`${g}.errors`),()=>n.throw(g))),m}function v(){const m=(0,ee._)`${l}.errors`;return n.assign(m,null),b(ee.nil),m}function b(m=t.async?(0,ee._)`await `:ee.nil){const g=u.opts.passContext?Re.default.this:Re.default.self,S=!("compile"in t&&!c||t.schema===!1);n.assign(h,(0,ee._)`${m}${(0,Hs.callValidateCode)(e,l,g,S)}`,t.modifying)}function p(m){var g;n.if((0,ee.not)((g=t.valid)!==null&&g!==void 0?g:h),m)}}pe.funcKeywordCode=Zs;function Mn(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,ee._)`${n.parentData}[${n.parentDataProperty}]`))}function Bs(e,t){const{gen:r}=e;r.if((0,ee._)`Array.isArray(${t})`,()=>{r.assign(Re.default.vErrors,(0,ee._)`${Re.default.vErrors} === null ? ${t} : ${Re.default.vErrors}.concat(${t})`).assign(Re.default.errors,(0,ee._)`${Re.default.vErrors}.length`),(0,Js.extendErrors)(e)},()=>e.error())}function Xs({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Cn(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ee.stringify)(r)})}function Ys(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}pe.validSchemaType=Ys;function Qs({schema:e,opts:t,self:r,errSchemaPath:n},a,s){if(Array.isArray(a.keyword)?!a.keyword.includes(s):a.keyword!==s)throw new Error("ajv implementation error");const o=a.dependencies;if(o!=null&&o.some(c=>!Object.prototype.hasOwnProperty.call(e,c)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(u);else throw new Error(u)}}pe.validateKeywordUsage=Qs;var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.extendSubschemaMode=Ee.extendSubschemaData=Ee.getSubschema=void 0;const $e=M,Dn=O;function xs(e,{keyword:t,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const c=e.schema[t];return r===void 0?{schema:c,schemaPath:(0,$e._)`${e.schemaPath}${(0,$e.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:c[r],schemaPath:(0,$e._)`${e.schemaPath}${(0,$e.getProperty)(t)}${(0,$e.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Dn.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Ee.getSubschema=xs;function eo(e,t,{dataProp:r,dataPropType:n,data:a,dataTypes:s,propertyName:o}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(r!==void 0){const{errorPath:d,dataPathArr:l,opts:h}=t,w=c.let("data",(0,$e._)`${t.data}${(0,$e.getProperty)(r)}`,!0);u(w),e.errorPath=(0,$e.str)`${d}${(0,Dn.getErrorPath)(r,n,h.jsPropertySyntax)}`,e.parentDataProperty=(0,$e._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(a!==void 0){const d=a instanceof $e.Name?a:c.let("data",a,!0);u(d),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(d){e.data=d,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,d]}}Ee.extendSubschemaData=eo;function to(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:s}){n!==void 0&&(e.compositeRule=n),a!==void 0&&(e.createErrors=a),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}Ee.extendSubschemaMode=to;var Y={},Vn=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var o=s[a];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},zn={exports:{}},Se=zn.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};dt(t,n,a,e,"",e)};Se.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},Se.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Se.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Se.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function dt(e,t,r,n,a,s,o,c,u,d){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,a,s,o,c,u,d);for(var l in n){var h=n[l];if(Array.isArray(h)){if(l in Se.arrayKeywords)for(var w=0;w<h.length;w++)dt(e,t,r,h[w],a+"/"+l+"/"+w,s,a,l,n,w)}else if(l in Se.propsKeywords){if(h&&typeof h=="object")for(var _ in h)dt(e,t,r,h[_],a+"/"+l+"/"+ro(_),s,a,l,n,_)}else(l in Se.keywords||e.allKeys&&!(l in Se.skipKeywords))&&dt(e,t,r,h,a+"/"+l,s,a,l,n)}r(n,a,s,o,c,u,d)}}function ro(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var no=zn.exports;Object.defineProperty(Y,"__esModule",{value:!0}),Y.getSchemaRefs=Y.resolveUrl=Y.normalizeId=Y._getFullPath=Y.getFullPath=Y.inlineRef=void 0;const ao=O,so=Vn,oo=no,io=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function co(e,t=!0){return typeof e=="boolean"?!0:t===!0?!xt(e):t?qn(e)<=t:!1}Y.inlineRef=co;const uo=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function xt(e){for(const t in e){if(uo.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(xt)||typeof r=="object"&&xt(r))return!0}return!1}function qn(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!io.has(r)&&(typeof e[r]=="object"&&(0,ao.eachItem)(e[r],n=>t+=qn(n)),t===1/0))return 1/0}return t}function Fn(e,t="",r){r!==!1&&(t=qe(t));const n=e.parse(t);return Kn(e,n)}Y.getFullPath=Fn;function Kn(e,t){return e.serialize(t).split("#")[0]+"#"}Y._getFullPath=Kn;const lo=/#\/?$/;function qe(e){return e?e.replace(lo,""):""}Y.normalizeId=qe;function fo(e,t,r){return r=qe(r),e.resolve(t,r)}Y.resolveUrl=fo;const mo=/^[a-z_][-a-z0-9._]*$/i;function ho(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=qe(e[r]||t),s={"":a},o=Fn(n,a,!1),c={},u=new Set;return oo(e,{allKeys:!0},(h,w,_,v)=>{if(v===void 0)return;const b=o+w;let p=s[v];typeof h[r]=="string"&&(p=m.call(this,h[r])),g.call(this,h.$anchor),g.call(this,h.$dynamicAnchor),s[w]=p;function m(S){const N=this.opts.uriResolver.resolve;if(S=qe(p?N(p,S):S),u.has(S))throw l(S);u.add(S);let R=this.refs[S];return typeof R=="string"&&(R=this.refs[R]),typeof R=="object"?d(h,R.schema,S):S!==qe(b)&&(S[0]==="#"?(d(h,c[S],S),c[S]=h):this.refs[S]=b),S}function g(S){if(typeof S=="string"){if(!mo.test(S))throw new Error(`invalid anchor "${S}"`);m.call(this,`#${S}`)}}}),c;function d(h,w,_){if(w!==void 0&&!so(h,w))throw l(_)}function l(h){return new Error(`reference "${h}" resolves to more than one schema`)}}Y.getSchemaRefs=ho,Object.defineProperty(ae,"__esModule",{value:!0}),ae.getData=ae.KeywordCxt=ae.validateFunctionCode=void 0;const Un=De,Ln=B,er=ge,ut=B,po=ct,Xe=pe,tr=Ee,k=M,C=se,$o=Y,_e=O,Ye=Ze;function yo(e){if(Wn(e)&&(Zn(e),Jn(e))){_o(e);return}Gn(e,()=>(0,Un.topBoolOrEmptySchema)(e))}ae.validateFunctionCode=yo;function Gn({gen:e,validateName:t,schema:r,schemaEnv:n,opts:a},s){a.code.es5?e.func(t,(0,k._)`${C.default.data}, ${C.default.valCxt}`,n.$async,()=>{e.code((0,k._)`"use strict"; ${Hn(r,a)}`),go(e,a),e.code(s)}):e.func(t,(0,k._)`${C.default.data}, ${vo(a)}`,n.$async,()=>e.code(Hn(r,a)).code(s))}function vo(e){return(0,k._)`{${C.default.instancePath}="", ${C.default.parentData}, ${C.default.parentDataProperty}, ${C.default.rootData}=${C.default.data}${e.dynamicRef?(0,k._)`, ${C.default.dynamicAnchors}={}`:k.nil}}={}`}function go(e,t){e.if(C.default.valCxt,()=>{e.var(C.default.instancePath,(0,k._)`${C.default.valCxt}.${C.default.instancePath}`),e.var(C.default.parentData,(0,k._)`${C.default.valCxt}.${C.default.parentData}`),e.var(C.default.parentDataProperty,(0,k._)`${C.default.valCxt}.${C.default.parentDataProperty}`),e.var(C.default.rootData,(0,k._)`${C.default.valCxt}.${C.default.rootData}`),t.dynamicRef&&e.var(C.default.dynamicAnchors,(0,k._)`${C.default.valCxt}.${C.default.dynamicAnchors}`)},()=>{e.var(C.default.instancePath,(0,k._)`""`),e.var(C.default.parentData,(0,k._)`undefined`),e.var(C.default.parentDataProperty,(0,k._)`undefined`),e.var(C.default.rootData,C.default.data),t.dynamicRef&&e.var(C.default.dynamicAnchors,(0,k._)`{}`)})}function _o(e){const{schema:t,opts:r,gen:n}=e;Gn(e,()=>{r.$comment&&t.$comment&&Xn(e),So(e),n.let(C.default.vErrors,null),n.let(C.default.errors,0),r.unevaluated&&bo(e),Bn(e),Oo(e)})}function bo(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,k._)`${r}.evaluated`),t.if((0,k._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,k._)`${e.evaluated}.props`,(0,k._)`undefined`)),t.if((0,k._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,k._)`${e.evaluated}.items`,(0,k._)`undefined`))}function Hn(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,k._)`/*# sourceURL=${r} */`:k.nil}function wo(e,t){if(Wn(e)&&(Zn(e),Jn(e))){Po(e,t);return}(0,Un.boolOrEmptySchema)(e,t)}function Jn({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Wn(e){return typeof e.schema!="boolean"}function Po(e,t){const{schema:r,gen:n,opts:a}=e;a.$comment&&r.$comment&&Xn(e),jo(e),No(e);const s=n.const("_errs",C.default.errors);Bn(e,s),n.var(t,(0,k._)`${s} === ${C.default.errors}`)}function Zn(e){(0,_e.checkUnknownRules)(e),Eo(e)}function Bn(e,t){if(e.opts.jtd)return Yn(e,[],!1,t);const r=(0,Ln.getSchemaTypes)(e.schema),n=(0,Ln.coerceAndCheckDataType)(e,r);Yn(e,r,!n,t)}function Eo(e){const{schema:t,errSchemaPath:r,opts:n,self:a}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,_e.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function So(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,_e.checkStrictMode)(e,"default is ignored in the schema root")}function jo(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,$o.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function No(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Xn({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:a}){const s=r.$comment;if(a.$comment===!0)e.code((0,k._)`${C.default.self}.logger.log(${s})`);else if(typeof a.$comment=="function"){const o=(0,k.str)`${n}/$comment`,c=e.scopeValue("root",{ref:t.root});e.code((0,k._)`${C.default.self}.opts.$comment(${s}, ${o}, ${c}.schema)`)}}function Oo(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:a,opts:s}=e;r.$async?t.if((0,k._)`${C.default.errors} === 0`,()=>t.return(C.default.data),()=>t.throw((0,k._)`new ${a}(${C.default.vErrors})`)):(t.assign((0,k._)`${n}.errors`,C.default.vErrors),s.unevaluated&&Ro(e),t.return((0,k._)`${C.default.errors} === 0`))}function Ro({gen:e,evaluated:t,props:r,items:n}){r instanceof k.Name&&e.assign((0,k._)`${t}.props`,r),n instanceof k.Name&&e.assign((0,k._)`${t}.items`,n)}function Yn(e,t,r,n){const{gen:a,schema:s,data:o,allErrors:c,opts:u,self:d}=e,{RULES:l}=d;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,_e.schemaHasRulesButRef)(s,l))){a.block(()=>ta(e,"$ref",l.all.$ref.definition));return}u.jtd||ko(e,t),a.block(()=>{for(const w of l.rules)h(w);h(l.post)});function h(w){(0,er.shouldUseGroup)(s,w)&&(w.type?(a.if((0,ut.checkDataType)(w.type,o,u.strictNumbers)),Qn(e,w),t.length===1&&t[0]===w.type&&r&&(a.else(),(0,ut.reportTypeError)(e)),a.endIf()):Qn(e,w),c||a.if((0,k._)`${C.default.errors} === ${n||0}`))}}function Qn(e,t){const{gen:r,schema:n,opts:{useDefaults:a}}=e;a&&(0,po.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,er.shouldUseRule)(n,s)&&ta(e,s.keyword,s.definition,t.type)})}function ko(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Ao(e,t),e.opts.allowUnionTypes||Io(e,t),To(e,e.dataTypes))}function Ao(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{xn(e.dataTypes,r)||rr(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Co(e,t)}}function Io(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&rr(e,"use allowUnionTypes to allow union type keyword")}function To(e,t){const r=e.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,er.shouldUseRule)(e.schema,a)){const{type:s}=a.definition;s.length&&!s.some(o=>Mo(t,o))&&rr(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function Mo(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function xn(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Co(e,t){const r=[];for(const n of e.dataTypes)xn(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function rr(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,_e.checkStrictMode)(e,t,e.opts.strictTypes)}class ea{constructor(t,r,n){if((0,Xe.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,_e.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",ra(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Xe.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",C.default.errors))}result(t,r,n){this.failResult((0,k.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,k.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,k._)`${r} !== undefined && (${(0,k.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Ye.reportExtraError:Ye.reportError)(this,this.def.error,r)}$dataError(){(0,Ye.reportError)(this,this.def.$dataError||Ye.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ye.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=k.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=k.nil,r=k.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:s,def:o}=this;n.if((0,k.or)((0,k._)`${a} === undefined`,r)),t!==k.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==k.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:a,it:s}=this;return(0,k.or)(o(),c());function o(){if(n.length){if(!(r instanceof k.Name))throw new Error("ajv implementation error");const u=Array.isArray(n)?n:[n];return(0,k._)`${(0,ut.checkDataTypes)(u,r,s.opts.strictNumbers,ut.DataType.Wrong)}`}return k.nil}function c(){if(a.validateSchema){const u=t.scopeValue("validate$data",{ref:a.validateSchema});return(0,k._)`!${u}(${r})`}return k.nil}}subschema(t,r){const n=(0,tr.getSubschema)(this.it,t);(0,tr.extendSubschemaData)(n,this.it,t),(0,tr.extendSubschemaMode)(n,t);const a={...this.it,...n,items:void 0,props:void 0};return wo(a,r),a}mergeEvaluated(t,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=_e.mergeEvaluated.props(a,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=_e.mergeEvaluated.items(a,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(t,k.Name)),!0}}ae.KeywordCxt=ea;function ta(e,t,r,n){const a=new ea(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,Xe.funcKeywordCode)(a,r):"macro"in r?(0,Xe.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,Xe.funcKeywordCode)(a,r)}const Do=/^\/(?:[^~]|~0|~1)*$/,Vo=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ra(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let a,s;if(e==="")return C.default.rootData;if(e[0]==="/"){if(!Do.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,s=C.default.rootData}else{const d=Vo.exec(e);if(!d)throw new Error(`Invalid JSON-pointer: ${e}`);const l=+d[1];if(a=d[2],a==="#"){if(l>=t)throw new Error(u("property/index",l));return n[t-l]}if(l>t)throw new Error(u("data",l));if(s=r[t-l],!a)return s}let o=s;const c=a.split("/");for(const d of c)d&&(s=(0,k._)`${s}${(0,k.getProperty)((0,_e.unescapeJsonPointer)(d))}`,o=(0,k._)`${o} && ${s}`);return o;function u(d,l){return`Cannot access ${d} ${l} levels up, current level is ${t}`}}ae.getData=ra;var ke={};Object.defineProperty(ke,"__esModule",{value:!0});class zo extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}ke.default=zo;var lt={},na;function Fe(){if(na)return lt;na=1,Object.defineProperty(lt,"__esModule",{value:!0});const e=Y;class t extends Error{constructor(n,a,s,o){super(o||`can't resolve reference ${s} from id ${a}`),this.missingRef=(0,e.resolveUrl)(n,a,s),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return lt.default=t,lt}var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.resolveSchema=te.getCompilingSchema=te.resolveRef=te.compileSchema=te.SchemaEnv=void 0;const ue=M,qo=ke,Ae=se,le=Y,aa=O,Fo=ae;class ft{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,le.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}te.SchemaEnv=ft;function nr(e){const t=sa.call(this,e);if(t)return t;const r=(0,le.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:s}=this.opts,o=new ue.CodeGen(this.scope,{es5:n,lines:a,ownProperties:s});let c;e.$async&&(c=o.scopeValue("Error",{ref:qo.default,code:(0,ue._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const d={gen:o,allErrors:this.opts.allErrors,data:Ae.default.data,parentData:Ae.default.parentData,parentDataProperty:Ae.default.parentDataProperty,dataNames:[Ae.default.data],dataPathArr:[ue.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ue.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:c,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:ue.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ue._)`""`,opts:this.opts,self:this};let l;try{this._compilations.add(e),(0,Fo.validateFunctionCode)(d),o.optimize(this.opts.code.optimize);const h=o.toString();l=`${o.scopeRefs(Ae.default.scope)}return ${h}`,this.opts.code.process&&(l=this.opts.code.process(l,e));const _=new Function(`${Ae.default.self}`,`${Ae.default.scope}`,l)(this,this.scope.get());if(this.scope.value(u,{ref:_}),_.errors=null,_.schema=e.schema,_.schemaEnv=e,e.$async&&(_.$async=!0),this.opts.code.source===!0&&(_.source={validateName:u,validateCode:h,scopeValues:o._values}),this.opts.unevaluated){const{props:v,items:b}=d;_.evaluated={props:v instanceof ue.Name?void 0:v,items:b instanceof ue.Name?void 0:b,dynamicProps:v instanceof ue.Name,dynamicItems:b instanceof ue.Name},_.source&&(_.source.evaluated=(0,ue.stringify)(_.evaluated))}return e.validate=_,e}catch(h){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),h}finally{this._compilations.delete(e)}}te.compileSchema=nr;function Ko(e,t,r){var n;r=(0,le.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let s=Go.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:c}=this.opts;o&&(s=new ft({schema:o,schemaId:c,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=Uo.call(this,s)}te.resolveRef=Ko;function Uo(e){return(0,le.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:nr.call(this,e)}function sa(e){for(const t of this._compilations)if(Lo(t,e))return t}te.getCompilingSchema=sa;function Lo(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Go(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||mt.call(this,e,t)}function mt(e,t){const r=this.opts.uriResolver.parse(t),n=(0,le._getFullPath)(this.opts.uriResolver,r);let a=(0,le.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return ar.call(this,r,e);const s=(0,le.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const c=mt.call(this,e,o);return typeof(c==null?void 0:c.schema)!="object"?void 0:ar.call(this,r,c)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||nr.call(this,o),s===(0,le.normalizeId)(t)){const{schema:c}=o,{schemaId:u}=this.opts,d=c[u];return d&&(a=(0,le.resolveUrl)(this.opts.uriResolver,a,d)),new ft({schema:c,schemaId:u,root:e,baseId:a})}return ar.call(this,r,o)}}te.resolveSchema=mt;const Ho=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function ar(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const c of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const u=r[(0,aa.unescapeFragment)(c)];if(u===void 0)return;r=u;const d=typeof r=="object"&&r[this.opts.schemaId];!Ho.has(c)&&d&&(t=(0,le.resolveUrl)(this.opts.uriResolver,t,d))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,aa.schemaHasRulesButRef)(r,this.RULES)){const c=(0,le.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=mt.call(this,n,c)}const{schemaId:o}=this.opts;if(s=s||new ft({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}var Jo={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},sr={},ht={exports:{}},Wo={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}};const{HEX:Zo}=Wo,Bo=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function oa(e){if(ca(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(Bo)||[],[r]=t;return r?{host:Yo(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function or(e,t=!1){let r="",n=!0;for(const a of e){if(Zo[a]===void 0)return;a!=="0"&&n===!0&&(n=!1),n||(r+=a)}return t&&r.length===0&&(r="0"),r}function Xo(e){let t=0;const r={error:!1,address:"",zone:""},n=[],a=[];let s=!1,o=!1,c=!1;function u(){if(a.length){if(s===!1){const d=or(a);if(d!==void 0)n.push(d);else return r.error=!0,!1}a.length=0}return!0}for(let d=0;d<e.length;d++){const l=e[d];if(!(l==="["||l==="]"))if(l===":"){if(o===!0&&(c=!0),!u())break;if(t++,n.push(":"),t>7){r.error=!0;break}d-1>=0&&e[d-1]===":"&&(o=!0);continue}else if(l==="%"){if(!u())break;s=!0}else{a.push(l);continue}}return a.length&&(s?r.zone=a.join(""):c?n.push(a.join("")):n.push(or(a))),r.address=n.join(""),r}function ia(e){if(ca(e,":")<2)return{host:e,isIPV6:!1};const t=Xo(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,escapedHost:n,isIPV6:!0}}}function Yo(e,t){let r="",n=!0;const a=e.length;for(let s=0;s<a;s++){const o=e[s];o==="0"&&n?(s+1<=a&&e[s+1]===t||s+1===a)&&(r+=o,n=!1):(o===t?n=!0:n=!1,r+=o)}return r}function ca(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}const da=/^\.\.?\//u,ua=/^\/\.(?:\/|$)/u,la=/^\/\.\.(?:\/|$)/u,Qo=/^\/?(?:.|\n)*?(?=\/|$)/u;function xo(e){const t=[];for(;e.length;)if(e.match(da))e=e.replace(da,"");else if(e.match(ua))e=e.replace(ua,"/");else if(e.match(la))e=e.replace(la,"/"),t.pop();else if(e==="."||e==="..")e="";else{const r=e.match(Qo);if(r){const n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function ei(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function ti(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);const n=oa(r);if(n.isIPV4)r=n.host;else{const a=ia(n.host);a.isIPV6===!0?r=`[${a.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var ri={recomposeAuthority:ti,normalizeComponentEncoding:ei,removeDotSegments:xo,normalizeIPv4:oa,normalizeIPv6:ia,stringArrayToHexStripped:or};const ni=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,ai=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function fa(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function ma(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function ha(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function si(e){return e.secure=fa(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function oi(e){if((e.port===(fa(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function ii(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(ai);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const a=`${n}:${t.nid||e.nid}`,s=ir[a];e.path=void 0,s&&(e=s.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function ci(e,t){const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),a=`${r}:${t.nid||n}`,s=ir[a];s&&(e=s.serialize(e,t));const o=e,c=e.nss;return o.path=`${n||t.nid}:${c}`,t.skipEscape=!0,o}function di(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!ni.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function ui(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const pa={scheme:"http",domainHost:!0,parse:ma,serialize:ha},li={scheme:"https",domainHost:pa.domainHost,parse:ma,serialize:ha},pt={scheme:"ws",domainHost:!0,parse:si,serialize:oi},fi={scheme:"wss",domainHost:pt.domainHost,parse:pt.parse,serialize:pt.serialize},ir={http:pa,https:li,ws:pt,wss:fi,urn:{scheme:"urn",parse:ii,serialize:ci,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:di,serialize:ui,skipNormalize:!0}};var mi=ir;const{normalizeIPv6:hi,normalizeIPv4:pi,removeDotSegments:Qe,recomposeAuthority:$i,normalizeComponentEncoding:$t}=ri,cr=mi;function yi(e,t){return typeof e=="string"?e=ye(be(e,t),t):typeof e=="object"&&(e=be(ye(e,t),t)),e}function vi(e,t,r){const n=Object.assign({scheme:"null"},r),a=$a(be(e,n),be(t,n),n,!0);return ye(a,{...n,skipEscape:!0})}function $a(e,t,r,n){const a={};return n||(e=be(ye(e,r),r),t=be(ye(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(a.scheme=t.scheme,a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=Qe(t.path||""),a.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=Qe(t.path||""),a.query=t.query):(t.path?(t.path.charAt(0)==="/"?a.path=Qe(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?a.path="/"+t.path:e.path?a.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:a.path=t.path,a.path=Qe(a.path)),a.query=t.query):(a.path=e.path,t.query!==void 0?a.query=t.query:a.query=e.query),a.userinfo=e.userinfo,a.host=e.host,a.port=e.port),a.scheme=e.scheme),a.fragment=t.fragment,a}function gi(e,t,r){return typeof e=="string"?(e=unescape(e),e=ye($t(be(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=ye($t(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=ye($t(be(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=ye($t(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function ye(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),a=[],s=cr[(n.scheme||r.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&a.push(r.scheme,":");const o=$i(r);if(o!==void 0&&(n.reference!=="suffix"&&a.push("//"),a.push(o),r.path&&r.path.charAt(0)!=="/"&&a.push("/")),r.path!==void 0){let c=r.path;!n.absolutePath&&(!s||!s.absolutePath)&&(c=Qe(c)),o===void 0&&(c=c.replace(/^\/\//u,"/%2F")),a.push(c)}return r.query!==void 0&&a.push("?",r.query),r.fragment!==void 0&&a.push("#",r.fragment),a.join("")}const _i=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function bi(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||_i[t])return!0;return!1}const wi=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function be(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},a=e.indexOf("%")!==-1;let s=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);const o=e.match(wi);if(o){if(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5]),n.host){const u=pi(n.host);if(u.isIPV4===!1){const d=hi(u.host);n.host=d.host.toLowerCase(),s=d.isIPV6}else n.host=u.host,s=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const c=cr[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!c||!c.unicodeSupport)&&n.host&&(r.domainHost||c&&c.domainHost)&&s===!1&&bi(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(u){n.error=n.error||"Host's domain name can not be converted to ASCII: "+u}(!c||c&&!c.skipNormalize)&&(a&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),a&&n.host!==void 0&&(n.host=unescape(n.host)),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),c&&c.parse&&c.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const dr={SCHEMES:cr,normalize:yi,resolve:vi,resolveComponents:$a,equal:gi,serialize:ye,parse:be};ht.exports=dr,ht.exports.default=dr,ht.exports.fastUri=dr;var Pi=ht.exports;Object.defineProperty(sr,"__esModule",{value:!0});const ya=Pi;ya.code='require("ajv/dist/runtime/uri").default',sr.default=ya,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=ae;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=M;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=ke,a=Fe(),s=Oe,o=te,c=M,u=Y,d=B,l=O,h=Jo,w=sr,_=(j,$)=>new RegExp(j,$);_.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),p={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},g=200;function S(j){var $,E,y,i,f,P,A,I,K,q,X,We,rn,nn,an,sn,on,cn,dn,un,ln,fn,mn,hn,pn;const it=j.strict,$n=($=j.code)===null||$===void 0?void 0:$.optimize,Qa=$n===!0||$n===void 0?1:$n||0,xa=(y=(E=j.code)===null||E===void 0?void 0:E.regExp)!==null&&y!==void 0?y:_,Lu=(i=j.uriResolver)!==null&&i!==void 0?i:w.default;return{strictSchema:(P=(f=j.strictSchema)!==null&&f!==void 0?f:it)!==null&&P!==void 0?P:!0,strictNumbers:(I=(A=j.strictNumbers)!==null&&A!==void 0?A:it)!==null&&I!==void 0?I:!0,strictTypes:(q=(K=j.strictTypes)!==null&&K!==void 0?K:it)!==null&&q!==void 0?q:"log",strictTuples:(We=(X=j.strictTuples)!==null&&X!==void 0?X:it)!==null&&We!==void 0?We:"log",strictRequired:(nn=(rn=j.strictRequired)!==null&&rn!==void 0?rn:it)!==null&&nn!==void 0?nn:!1,code:j.code?{...j.code,optimize:Qa,regExp:xa}:{optimize:Qa,regExp:xa},loopRequired:(an=j.loopRequired)!==null&&an!==void 0?an:g,loopEnum:(sn=j.loopEnum)!==null&&sn!==void 0?sn:g,meta:(on=j.meta)!==null&&on!==void 0?on:!0,messages:(cn=j.messages)!==null&&cn!==void 0?cn:!0,inlineRefs:(dn=j.inlineRefs)!==null&&dn!==void 0?dn:!0,schemaId:(un=j.schemaId)!==null&&un!==void 0?un:"$id",addUsedSchema:(ln=j.addUsedSchema)!==null&&ln!==void 0?ln:!0,validateSchema:(fn=j.validateSchema)!==null&&fn!==void 0?fn:!0,validateFormats:(mn=j.validateFormats)!==null&&mn!==void 0?mn:!0,unicodeRegExp:(hn=j.unicodeRegExp)!==null&&hn!==void 0?hn:!0,int32range:(pn=j.int32range)!==null&&pn!==void 0?pn:!0,uriResolver:Lu}}class N{constructor($={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,$=this.opts={...$,...S($)};const{es5:E,lines:y}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:b,es5:E,lines:y}),this.logger=H($.logger);const i=$.validateFormats;$.validateFormats=!1,this.RULES=(0,s.getRules)(),R.call(this,p,$,"NOT SUPPORTED"),R.call(this,m,$,"DEPRECATED","warn"),this._metaOpts=z.call(this),$.formats&&me.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),$.keywords&&T.call(this,$.keywords),typeof $.meta=="object"&&this.addMetaSchema($.meta),W.call(this),$.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:$,meta:E,schemaId:y}=this.opts;let i=h;y==="id"&&(i={...h},i.id=i.$id,delete i.$id),E&&$&&this.addMetaSchema(i,i[y],!1)}defaultMeta(){const{meta:$,schemaId:E}=this.opts;return this.opts.defaultMeta=typeof $=="object"?$[E]||$:void 0}validate($,E){let y;if(typeof $=="string"){if(y=this.getSchema($),!y)throw new Error(`no schema with key or ref "${$}"`)}else y=this.compile($);const i=y(E);return"$async"in y||(this.errors=y.errors),i}compile($,E){const y=this._addSchema($,E);return y.validate||this._compileSchemaEnv(y)}compileAsync($,E){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:y}=this.opts;return i.call(this,$,E);async function i(q,X){await f.call(this,q.$schema);const We=this._addSchema(q,X);return We.validate||P.call(this,We)}async function f(q){q&&!this.getSchema(q)&&await i.call(this,{$ref:q},!0)}async function P(q){try{return this._compileSchemaEnv(q)}catch(X){if(!(X instanceof a.default))throw X;return A.call(this,X),await I.call(this,X.missingSchema),P.call(this,q)}}function A({missingSchema:q,missingRef:X}){if(this.refs[q])throw new Error(`AnySchema ${q} is loaded but ${X} cannot be resolved`)}async function I(q){const X=await K.call(this,q);this.refs[q]||await f.call(this,X.$schema),this.refs[q]||this.addSchema(X,q,E)}async function K(q){const X=this._loading[q];if(X)return X;try{return await(this._loading[q]=y(q))}finally{delete this._loading[q]}}}addSchema($,E,y,i=this.opts.validateSchema){if(Array.isArray($)){for(const P of $)this.addSchema(P,void 0,y,i);return this}let f;if(typeof $=="object"){const{schemaId:P}=this.opts;if(f=$[P],f!==void 0&&typeof f!="string")throw new Error(`schema ${P} must be string`)}return E=(0,u.normalizeId)(E||f),this._checkUnique(E),this.schemas[E]=this._addSchema($,y,E,i,!0),this}addMetaSchema($,E,y=this.opts.validateSchema){return this.addSchema($,E,!0,y),this}validateSchema($,E){if(typeof $=="boolean")return!0;let y;if(y=$.$schema,y!==void 0&&typeof y!="string")throw new Error("$schema must be a string");if(y=y||this.opts.defaultMeta||this.defaultMeta(),!y)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const i=this.validate(y,$);if(!i&&E){const f="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(f);else throw new Error(f)}return i}getSchema($){let E;for(;typeof(E=F.call(this,$))=="string";)$=E;if(E===void 0){const{schemaId:y}=this.opts,i=new o.SchemaEnv({schema:{},schemaId:y});if(E=o.resolveSchema.call(this,i,$),!E)return;this.refs[$]=E}return E.validate||this._compileSchemaEnv(E)}removeSchema($){if($ instanceof RegExp)return this._removeAllSchemas(this.schemas,$),this._removeAllSchemas(this.refs,$),this;switch(typeof $){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const E=F.call(this,$);return typeof E=="object"&&this._cache.delete(E.schema),delete this.schemas[$],delete this.refs[$],this}case"object":{const E=$;this._cache.delete(E);let y=$[this.opts.schemaId];return y&&(y=(0,u.normalizeId)(y),delete this.schemas[y],delete this.refs[y]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary($){for(const E of $)this.addKeyword(E);return this}addKeyword($,E){let y;if(typeof $=="string")y=$,typeof E=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),E.keyword=y);else if(typeof $=="object"&&E===void 0){if(E=$,y=E.keyword,Array.isArray(y)&&!y.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(oe.call(this,y,E),!E)return(0,l.eachItem)(y,f=>ve.call(this,f)),this;en.call(this,E);const i={...E,type:(0,d.getJSONTypes)(E.type),schemaType:(0,d.getJSONTypes)(E.schemaType)};return(0,l.eachItem)(y,i.type.length===0?f=>ve.call(this,f,i):f=>i.type.forEach(P=>ve.call(this,f,i,P))),this}getKeyword($){const E=this.RULES.all[$];return typeof E=="object"?E.definition:!!E}removeKeyword($){const{RULES:E}=this;delete E.keywords[$],delete E.all[$];for(const y of E.rules){const i=y.rules.findIndex(f=>f.keyword===$);i>=0&&y.rules.splice(i,1)}return this}addFormat($,E){return typeof E=="string"&&(E=new RegExp(E)),this.formats[$]=E,this}errorsText($=this.errors,{separator:E=", ",dataVar:y="data"}={}){return!$||$.length===0?"No errors":$.map(i=>`${y}${i.instancePath} ${i.message}`).reduce((i,f)=>i+E+f)}$dataMetaSchema($,E){const y=this.RULES.all;$=JSON.parse(JSON.stringify($));for(const i of E){const f=i.split("/").slice(1);let P=$;for(const A of f)P=P[A];for(const A in y){const I=y[A];if(typeof I!="object")continue;const{$data:K}=I.definition,q=P[A];K&&q&&(P[A]=Ut(q))}}return $}_removeAllSchemas($,E){for(const y in $){const i=$[y];(!E||E.test(y))&&(typeof i=="string"?delete $[y]:i&&!i.meta&&(this._cache.delete(i.schema),delete $[y]))}}_addSchema($,E,y,i=this.opts.validateSchema,f=this.opts.addUsedSchema){let P;const{schemaId:A}=this.opts;if(typeof $=="object")P=$[A];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof $!="boolean")throw new Error("schema must be object or boolean")}let I=this._cache.get($);if(I!==void 0)return I;y=(0,u.normalizeId)(P||y);const K=u.getSchemaRefs.call(this,$,y);return I=new o.SchemaEnv({schema:$,schemaId:A,meta:E,baseId:y,localRefs:K}),this._cache.set(I.schema,I),f&&!y.startsWith("#")&&(y&&this._checkUnique(y),this.refs[y]=I),i&&this.validateSchema($,!0),I}_checkUnique($){if(this.schemas[$]||this.refs[$])throw new Error(`schema with key or id "${$}" already exists`)}_compileSchemaEnv($){if($.meta?this._compileMetaSchema($):o.compileSchema.call(this,$),!$.validate)throw new Error("ajv implementation error");return $.validate}_compileMetaSchema($){const E=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,$)}finally{this.opts=E}}}N.ValidationError=n.default,N.MissingRefError=a.default,e.default=N;function R(j,$,E,y="error"){for(const i in j){const f=i;f in $&&this.logger[y](`${E}: option ${i}. ${j[f]}`)}}function F(j){return j=(0,u.normalizeId)(j),this.schemas[j]||this.refs[j]}function W(){const j=this.opts.schemas;if(j)if(Array.isArray(j))this.addSchema(j);else for(const $ in j)this.addSchema(j[$],$)}function me(){for(const j in this.opts.formats){const $=this.opts.formats[j];$&&this.addFormat(j,$)}}function T(j){if(Array.isArray(j)){this.addVocabulary(j);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const $ in j){const E=j[$];E.keyword||(E.keyword=$),this.addKeyword(E)}}function z(){const j={...this.opts};for(const $ of v)delete j[$];return j}const Z={log(){},warn(){},error(){}};function H(j){if(j===!1)return Z;if(j===void 0)return console;if(j.log&&j.warn&&j.error)return j;throw new Error("logger must implement log, warn and error methods")}const ne=/^[a-z_$][a-z0-9_$:-]*$/i;function oe(j,$){const{RULES:E}=this;if((0,l.eachItem)(j,y=>{if(E.keywords[y])throw new Error(`Keyword ${y} is already defined`);if(!ne.test(y))throw new Error(`Keyword ${y} has invalid name`)}),!!$&&$.$data&&!("code"in $||"validate"in $))throw new Error('$data keyword must have "code" or "validate" function')}function ve(j,$,E){var y;const i=$==null?void 0:$.post;if(E&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:f}=this;let P=i?f.post:f.rules.find(({type:I})=>I===E);if(P||(P={type:E,rules:[]},f.rules.push(P)),f.keywords[j]=!0,!$)return;const A={keyword:j,definition:{...$,type:(0,d.getJSONTypes)($.type),schemaType:(0,d.getJSONTypes)($.schemaType)}};$.before?Kt.call(this,P,A,$.before):P.rules.push(A),f.all[j]=A,(y=$.implements)===null||y===void 0||y.forEach(I=>this.addKeyword(I))}function Kt(j,$,E){const y=j.rules.findIndex(i=>i.keyword===E);y>=0?j.rules.splice(y,0,$):(j.rules.push($),this.logger.warn(`rule ${E} is not defined`))}function en(j){let{metaSchema:$}=j;$!==void 0&&(j.$data&&this.opts.$data&&($=Ut($)),j.validateSchema=this.compile($,!0))}const tn={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ut(j){return{anyOf:[j,tn]}}}(he);var ur={},yt={},lr={};Object.defineProperty(lr,"__esModule",{value:!0});const Ei={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};lr.default=Ei;var we={};Object.defineProperty(we,"__esModule",{value:!0}),we.callRef=we.getValidate=void 0;const Si=Fe(),va=V,re=M,Ke=se,ga=te,vt=O,ji={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:s,validateName:o,opts:c,self:u}=n,{root:d}=s;if((r==="#"||r==="#/")&&a===d.baseId)return h();const l=ga.resolveRef.call(u,d,a,r);if(l===void 0)throw new Si.default(n.opts.uriResolver,a,r);if(l instanceof ga.SchemaEnv)return w(l);return _(l);function h(){if(s===d)return gt(e,o,s,s.$async);const v=t.scopeValue("root",{ref:d});return gt(e,(0,re._)`${v}.validate`,d,d.$async)}function w(v){const b=_a(e,v);gt(e,b,v,v.$async)}function _(v){const b=t.scopeValue("schema",c.code.source===!0?{ref:v,code:(0,re.stringify)(v)}:{ref:v}),p=t.name("valid"),m=e.subschema({schema:v,dataTypes:[],schemaPath:re.nil,topSchemaRef:b,errSchemaPath:r},p);e.mergeEvaluated(m),e.ok(p)}}};function _a(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,re._)`${r.scopeValue("wrapper",{ref:t})}.validate`}we.getValidate=_a;function gt(e,t,r,n){const{gen:a,it:s}=e,{allErrors:o,schemaEnv:c,opts:u}=s,d=u.passContext?Ke.default.this:re.nil;n?l():h();function l(){if(!c.$async)throw new Error("async schema referenced by sync schema");const v=a.let("valid");a.try(()=>{a.code((0,re._)`await ${(0,va.callValidateCode)(e,t,d)}`),_(t),o||a.assign(v,!0)},b=>{a.if((0,re._)`!(${b} instanceof ${s.ValidationError})`,()=>a.throw(b)),w(b),o||a.assign(v,!1)}),e.ok(v)}function h(){e.result((0,va.callValidateCode)(e,t,d),()=>_(t),()=>w(t))}function w(v){const b=(0,re._)`${v}.errors`;a.assign(Ke.default.vErrors,(0,re._)`${Ke.default.vErrors} === null ? ${b} : ${Ke.default.vErrors}.concat(${b})`),a.assign(Ke.default.errors,(0,re._)`${Ke.default.vErrors}.length`)}function _(v){var b;if(!s.opts.unevaluated)return;const p=(b=r==null?void 0:r.validate)===null||b===void 0?void 0:b.evaluated;if(s.props!==!0)if(p&&!p.dynamicProps)p.props!==void 0&&(s.props=vt.mergeEvaluated.props(a,p.props,s.props));else{const m=a.var("props",(0,re._)`${v}.evaluated.props`);s.props=vt.mergeEvaluated.props(a,m,s.props,re.Name)}if(s.items!==!0)if(p&&!p.dynamicItems)p.items!==void 0&&(s.items=vt.mergeEvaluated.items(a,p.items,s.items));else{const m=a.var("items",(0,re._)`${v}.evaluated.items`);s.items=vt.mergeEvaluated.items(a,m,s.items,re.Name)}}}we.callRef=gt,we.default=ji,Object.defineProperty(yt,"__esModule",{value:!0});const Ni=lr,Oi=we,Ri=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Ni.default,Oi.default];yt.default=Ri;var _t={},fr={};Object.defineProperty(fr,"__esModule",{value:!0});const bt=M,je=bt.operators,wt={maximum:{okStr:"<=",ok:je.LTE,fail:je.GT},minimum:{okStr:">=",ok:je.GTE,fail:je.LT},exclusiveMaximum:{okStr:"<",ok:je.LT,fail:je.GTE},exclusiveMinimum:{okStr:">",ok:je.GT,fail:je.LTE}},ki={message:({keyword:e,schemaCode:t})=>(0,bt.str)`must be ${wt[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,bt._)`{comparison: ${wt[e].okStr}, limit: ${t}}`},Ai={keyword:Object.keys(wt),type:"number",schemaType:"number",$data:!0,error:ki,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,bt._)`${r} ${wt[t].fail} ${n} || isNaN(${r})`)}};fr.default=Ai;var mr={};Object.defineProperty(mr,"__esModule",{value:!0});const xe=M,Ii={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,xe.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,xe._)`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,s=a.opts.multipleOfPrecision,o=t.let("res"),c=s?(0,xe._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,xe._)`${o} !== parseInt(${o})`;e.fail$data((0,xe._)`(${n} === 0 || (${o} = ${r}/${n}, ${c}))`)}};mr.default=Ii;var hr={},pr={};Object.defineProperty(pr,"__esModule",{value:!0});function ba(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}pr.default=ba,ba.code='require("ajv/dist/runtime/ucs2length").default',Object.defineProperty(hr,"__esModule",{value:!0});const Ie=M,Ti=O,Mi=pr,Ci={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Ie.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Ie._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,s=t==="maxLength"?Ie.operators.GT:Ie.operators.LT,o=a.opts.unicode===!1?(0,Ie._)`${r}.length`:(0,Ie._)`${(0,Ti.useFunc)(e.gen,Mi.default)}(${r})`;e.fail$data((0,Ie._)`${o} ${s} ${n}`)}};hr.default=Ci;var $r={};Object.defineProperty($r,"__esModule",{value:!0});const Di=V,Pt=M,Vi={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,Pt.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Pt._)`{pattern: ${e}}`},code(e){const{data:t,$data:r,schema:n,schemaCode:a,it:s}=e,o=s.opts.unicodeRegExp?"u":"",c=r?(0,Pt._)`(new RegExp(${a}, ${o}))`:(0,Di.usePattern)(e,n);e.fail$data((0,Pt._)`!${c}.test(${t})`)}};$r.default=Vi;var yr={};Object.defineProperty(yr,"__esModule",{value:!0});const et=M,zi={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,et.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,et._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?et.operators.GT:et.operators.LT;e.fail$data((0,et._)`Object.keys(${r}).length ${a} ${n}`)}};yr.default=zi;var vr={};Object.defineProperty(vr,"__esModule",{value:!0});const tt=V,rt=M,qi=O,Fi={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,rt.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,rt._)`{missingProperty: ${e}}`},code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:s,it:o}=e,{opts:c}=o;if(!s&&r.length===0)return;const u=r.length>=c.loopRequired;if(o.allErrors?d():l(),c.strictRequired){const _=e.parentSchema.properties,{definedProperties:v}=e.it;for(const b of r)if((_==null?void 0:_[b])===void 0&&!v.has(b)){const p=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${b}" is not defined at "${p}" (strictRequired)`;(0,qi.checkStrictMode)(o,m,o.opts.strictRequired)}}function d(){if(u||s)e.block$data(rt.nil,h);else for(const _ of r)(0,tt.checkReportMissingProp)(e,_)}function l(){const _=t.let("missing");if(u||s){const v=t.let("valid",!0);e.block$data(v,()=>w(_,v)),e.ok(v)}else t.if((0,tt.checkMissingProp)(e,r,_)),(0,tt.reportMissingProp)(e,_),t.else()}function h(){t.forOf("prop",n,_=>{e.setParams({missingProperty:_}),t.if((0,tt.noPropertyInData)(t,a,_,c.ownProperties),()=>e.error())})}function w(_,v){e.setParams({missingProperty:_}),t.forOf(_,n,()=>{t.assign(v,(0,tt.propertyInData)(t,a,_,c.ownProperties)),t.if((0,rt.not)(v),()=>{e.error(),t.break()})},rt.nil)}}};vr.default=Fi;var gr={};Object.defineProperty(gr,"__esModule",{value:!0});const nt=M,Ki={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,nt.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,nt._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?nt.operators.GT:nt.operators.LT;e.fail$data((0,nt._)`${r}.length ${a} ${n}`)}};gr.default=Ki;var _r={},at={};Object.defineProperty(at,"__esModule",{value:!0});const wa=Vn;wa.code='require("ajv/dist/runtime/equal").default',at.default=wa,Object.defineProperty(_r,"__esModule",{value:!0});const br=B,Q=M,Ui=O,Li=at,Gi={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>(0,Q.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Q._)`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:s,schemaCode:o,it:c}=e;if(!n&&!a)return;const u=t.let("valid"),d=s.items?(0,br.getSchemaTypes)(s.items):[];e.block$data(u,l,(0,Q._)`${o} === false`),e.ok(u);function l(){const v=t.let("i",(0,Q._)`${r}.length`),b=t.let("j");e.setParams({i:v,j:b}),t.assign(u,!0),t.if((0,Q._)`${v} > 1`,()=>(h()?w:_)(v,b))}function h(){return d.length>0&&!d.some(v=>v==="object"||v==="array")}function w(v,b){const p=t.name("item"),m=(0,br.checkDataTypes)(d,p,c.opts.strictNumbers,br.DataType.Wrong),g=t.const("indices",(0,Q._)`{}`);t.for((0,Q._)`;${v}--;`,()=>{t.let(p,(0,Q._)`${r}[${v}]`),t.if(m,(0,Q._)`continue`),d.length>1&&t.if((0,Q._)`typeof ${p} == "string"`,(0,Q._)`${p} += "_"`),t.if((0,Q._)`typeof ${g}[${p}] == "number"`,()=>{t.assign(b,(0,Q._)`${g}[${p}]`),e.error(),t.assign(u,!1).break()}).code((0,Q._)`${g}[${p}] = ${v}`)})}function _(v,b){const p=(0,Ui.useFunc)(t,Li.default),m=t.name("outer");t.label(m).for((0,Q._)`;${v}--;`,()=>t.for((0,Q._)`${b} = ${v}; ${b}--;`,()=>t.if((0,Q._)`${p}(${r}[${v}], ${r}[${b}])`,()=>{e.error(),t.assign(u,!1).break(m)})))}}};_r.default=Gi;var wr={};Object.defineProperty(wr,"__esModule",{value:!0});const Pr=M,Hi=O,Ji=at,Wi={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,Pr._)`{allowedValue: ${e}}`},code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,Pr._)`!${(0,Hi.useFunc)(t,Ji.default)}(${r}, ${a})`):e.fail((0,Pr._)`${s} !== ${r}`)}};wr.default=Wi;var Er={};Object.defineProperty(Er,"__esModule",{value:!0});const st=M,Zi=O,Bi=at,Xi={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,st._)`{allowedValues: ${e}}`},code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:s,it:o}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const c=a.length>=o.opts.loopEnum;let u;const d=()=>u??(u=(0,Zi.useFunc)(t,Bi.default));let l;if(c||n)l=t.let("valid"),e.block$data(l,h);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const _=t.const("vSchema",s);l=(0,st.or)(...a.map((v,b)=>w(_,b)))}e.pass(l);function h(){t.assign(l,!1),t.forOf("v",s,_=>t.if((0,st._)`${d()}(${r}, ${_})`,()=>t.assign(l,!0).break()))}function w(_,v){const b=a[v];return typeof b=="object"&&b!==null?(0,st._)`${d()}(${r}, ${_}[${v}])`:(0,st._)`${r} === ${b}`}}};Er.default=Xi,Object.defineProperty(_t,"__esModule",{value:!0});const Yi=fr,Qi=mr,xi=hr,ec=$r,tc=yr,rc=vr,nc=gr,ac=_r,sc=wr,oc=Er,ic=[Yi.default,Qi.default,xi.default,ec.default,tc.default,rc.default,nc.default,ac.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},sc.default,oc.default];_t.default=ic;var Et={},Ue={};Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.validateAdditionalItems=void 0;const Te=M,Sr=O,cc={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,Te.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Te._)`{limit: ${e}}`},code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Sr.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Pa(e,n)}};function Pa(e,t){const{gen:r,schema:n,data:a,keyword:s,it:o}=e;o.items=!0;const c=r.const("len",(0,Te._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Te._)`${c} <= ${t.length}`);else if(typeof n=="object"&&!(0,Sr.alwaysValidSchema)(o,n)){const d=r.var("valid",(0,Te._)`${c} <= ${t.length}`);r.if((0,Te.not)(d),()=>u(d)),e.ok(d)}function u(d){r.forRange("i",t.length,c,l=>{e.subschema({keyword:s,dataProp:l,dataPropType:Sr.Type.Num},d),o.allErrors||r.if((0,Te.not)(d),()=>r.break())})}}Ue.validateAdditionalItems=Pa,Ue.default=cc;var jr={},Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.validateTuple=void 0;const Ea=M,St=O,dc=V,uc={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Sa(e,"additionalItems",t);r.items=!0,!(0,St.alwaysValidSchema)(r,t)&&e.ok((0,dc.validateArray)(e))}};function Sa(e,t,r=e.schema){const{gen:n,parentSchema:a,data:s,keyword:o,it:c}=e;l(a),c.opts.unevaluated&&r.length&&c.items!==!0&&(c.items=St.mergeEvaluated.items(n,r.length,c.items));const u=n.name("valid"),d=n.const("len",(0,Ea._)`${s}.length`);r.forEach((h,w)=>{(0,St.alwaysValidSchema)(c,h)||(n.if((0,Ea._)`${d} > ${w}`,()=>e.subschema({keyword:o,schemaProp:w,dataProp:w},u)),e.ok(u))});function l(h){const{opts:w,errSchemaPath:_}=c,v=r.length,b=v===h.minItems&&(v===h.maxItems||h[t]===!1);if(w.strictTuples&&!b){const p=`"${o}" is ${v}-tuple, but minItems or maxItems/${t} are not specified or different at path "${_}"`;(0,St.checkStrictMode)(c,p,w.strictTuples)}}}Le.validateTuple=Sa,Le.default=uc,Object.defineProperty(jr,"__esModule",{value:!0});const lc=Le,fc={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,lc.validateTuple)(e,"items")};jr.default=fc;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});const ja=M,mc=O,hc=V,pc=Ue,$c={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,ja.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ja._)`{limit: ${e}}`},code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,mc.alwaysValidSchema)(n,t)&&(a?(0,pc.validateAdditionalItems)(e,a):e.ok((0,hc.validateArray)(e)))}};Nr.default=$c;var Or={};Object.defineProperty(Or,"__esModule",{value:!0});const ie=M,jt=O,yc={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>t===void 0?(0,ie.str)`must contain at least ${e} valid item(s)`:(0,ie.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ie._)`{minContains: ${e}}`:(0,ie._)`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:s}=e;let o,c;const{minContains:u,maxContains:d}=n;s.opts.next?(o=u===void 0?1:u,c=d):o=1;const l=t.const("len",(0,ie._)`${a}.length`);if(e.setParams({min:o,max:c}),c===void 0&&o===0){(0,jt.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(c!==void 0&&o>c){(0,jt.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,jt.alwaysValidSchema)(s,r)){let b=(0,ie._)`${l} >= ${o}`;c!==void 0&&(b=(0,ie._)`${b} && ${l} <= ${c}`),e.pass(b);return}s.items=!0;const h=t.name("valid");c===void 0&&o===1?_(h,()=>t.if(h,()=>t.break())):o===0?(t.let(h,!0),c!==void 0&&t.if((0,ie._)`${a}.length > 0`,w)):(t.let(h,!1),w()),e.result(h,()=>e.reset());function w(){const b=t.name("_valid"),p=t.let("count",0);_(b,()=>t.if(b,()=>v(p)))}function _(b,p){t.forRange("i",0,l,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:jt.Type.Num,compositeRule:!0},b),p()})}function v(b){t.code((0,ie._)`${b}++`),c===void 0?t.if((0,ie._)`${b} >= ${o}`,()=>t.assign(h,!0).break()):(t.if((0,ie._)`${b} > ${c}`,()=>t.assign(h,!1).break()),o===1?t.assign(h,!0):t.if((0,ie._)`${b} >= ${o}`,()=>t.assign(h,!0)))}}};Or.default=yc;var Nt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=M,r=O,n=V;e.error={message:({params:{property:u,depsCount:d,deps:l}})=>{const h=d===1?"property":"properties";return(0,t.str)`must have ${h} ${l} when property ${u} is present`},params:({params:{property:u,depsCount:d,deps:l,missingProperty:h}})=>(0,t._)`{property: ${u},
    missingProperty: ${h},
    depsCount: ${d},
    deps: ${l}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[d,l]=s(u);o(u,d),c(u,l)}};function s({schema:u}){const d={},l={};for(const h in u){if(h==="__proto__")continue;const w=Array.isArray(u[h])?d:l;w[h]=u[h]}return[d,l]}function o(u,d=u.schema){const{gen:l,data:h,it:w}=u;if(Object.keys(d).length===0)return;const _=l.let("missing");for(const v in d){const b=d[v];if(b.length===0)continue;const p=(0,n.propertyInData)(l,h,v,w.opts.ownProperties);u.setParams({property:v,depsCount:b.length,deps:b.join(", ")}),w.allErrors?l.if(p,()=>{for(const m of b)(0,n.checkReportMissingProp)(u,m)}):(l.if((0,t._)`${p} && (${(0,n.checkMissingProp)(u,b,_)})`),(0,n.reportMissingProp)(u,_),l.else())}}e.validatePropertyDeps=o;function c(u,d=u.schema){const{gen:l,data:h,keyword:w,it:_}=u,v=l.name("valid");for(const b in d)(0,r.alwaysValidSchema)(_,d[b])||(l.if((0,n.propertyInData)(l,h,b,_.opts.ownProperties),()=>{const p=u.subschema({keyword:w,schemaProp:b},v);u.mergeValidEvaluated(p,v)},()=>l.var(v,!0)),u.ok(v))}e.validateSchemaDeps=c,e.default=a})(Nt);var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});const Na=M,vc=O,gc={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,Na._)`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,vc.alwaysValidSchema)(a,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,Na.not)(s),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(s)}};Rr.default=gc;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});const Rt=V,fe=M,_c=se,kt=O,bc={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,fe._)`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:c,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,kt.alwaysValidSchema)(o,r))return;const d=(0,Rt.allSchemaProperties)(n.properties),l=(0,Rt.allSchemaProperties)(n.patternProperties);h(),e.ok((0,fe._)`${s} === ${_c.default.errors}`);function h(){t.forIn("key",a,p=>{!d.length&&!l.length?v(p):t.if(w(p),()=>v(p))})}function w(p){let m;if(d.length>8){const g=(0,kt.schemaRefOrVal)(o,n.properties,"properties");m=(0,Rt.isOwnProperty)(t,g,p)}else d.length?m=(0,fe.or)(...d.map(g=>(0,fe._)`${p} === ${g}`)):m=fe.nil;return l.length&&(m=(0,fe.or)(m,...l.map(g=>(0,fe._)`${(0,Rt.usePattern)(e,g)}.test(${p})`))),(0,fe.not)(m)}function _(p){t.code((0,fe._)`delete ${a}[${p}]`)}function v(p){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){_(p);return}if(r===!1){e.setParams({additionalProperty:p}),e.error(),c||t.break();return}if(typeof r=="object"&&!(0,kt.alwaysValidSchema)(o,r)){const m=t.name("valid");u.removeAdditional==="failing"?(b(p,m,!1),t.if((0,fe.not)(m),()=>{e.reset(),_(p)})):(b(p,m),c||t.if((0,fe.not)(m),()=>t.break()))}}function b(p,m,g){const S={keyword:"additionalProperties",dataProp:p,dataPropType:kt.Type.Str};g===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,m)}}};Ot.default=bc;var kr={};Object.defineProperty(kr,"__esModule",{value:!0});const wc=ae,Oa=V,Ar=O,Ra=Ot,Pc={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Ra.default.code(new wc.KeywordCxt(s,Ra.default,"additionalProperties"));const o=(0,Oa.allSchemaProperties)(r);for(const h of o)s.definedProperties.add(h);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=Ar.mergeEvaluated.props(t,(0,Ar.toHash)(o),s.props));const c=o.filter(h=>!(0,Ar.alwaysValidSchema)(s,r[h]));if(c.length===0)return;const u=t.name("valid");for(const h of c)d(h)?l(h):(t.if((0,Oa.propertyInData)(t,a,h,s.opts.ownProperties)),l(h),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(h),e.ok(u);function d(h){return s.opts.useDefaults&&!s.compositeRule&&r[h].default!==void 0}function l(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},u)}}};kr.default=Pc;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});const ka=V,At=M,Aa=O,Ia=O,Ec={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:s}=e,{opts:o}=s,c=(0,ka.allSchemaProperties)(r),u=c.filter(b=>(0,Aa.alwaysValidSchema)(s,r[b]));if(c.length===0||u.length===c.length&&(!s.opts.unevaluated||s.props===!0))return;const d=o.strictSchema&&!o.allowMatchingProperties&&a.properties,l=t.name("valid");s.props!==!0&&!(s.props instanceof At.Name)&&(s.props=(0,Ia.evaluatedPropsToName)(t,s.props));const{props:h}=s;w();function w(){for(const b of c)d&&_(b),s.allErrors?v(b):(t.var(l,!0),v(b),t.if(l))}function _(b){for(const p in d)new RegExp(b).test(p)&&(0,Aa.checkStrictMode)(s,`property ${p} matches pattern ${b} (use allowMatchingProperties)`)}function v(b){t.forIn("key",n,p=>{t.if((0,At._)`${(0,ka.usePattern)(e,b)}.test(${p})`,()=>{const m=u.includes(b);m||e.subschema({keyword:"patternProperties",schemaProp:b,dataProp:p,dataPropType:Ia.Type.Str},l),s.opts.unevaluated&&h!==!0?t.assign((0,At._)`${h}[${p}]`,!0):!m&&!s.allErrors&&t.if((0,At.not)(l),()=>t.break())})})}}};Ir.default=Ec;var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});const Sc=O,jc={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Sc.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Tr.default=jc;var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});const Nc={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:V.validateUnion,error:{message:"must match a schema in anyOf"}};Mr.default=Nc;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});const It=M,Oc=O,Rc={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,It._)`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block(d),e.result(o,()=>e.reset(),()=>e.error(!0));function d(){s.forEach((l,h)=>{let w;(0,Oc.alwaysValidSchema)(a,l)?t.var(u,!0):w=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},u),h>0&&t.if((0,It._)`${u} && ${o}`).assign(o,!1).assign(c,(0,It._)`[${c}, ${h}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(c,h),w&&e.mergeEvaluated(w,It.Name)})})}}};Cr.default=Rc;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});const kc=O,Ac={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((s,o)=>{if((0,kc.alwaysValidSchema)(n,s))return;const c=e.subschema({keyword:"allOf",schemaProp:o},a);e.ok(a),e.mergeEvaluated(c)})}};Dr.default=Ac;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});const Tt=M,Ta=O,Ic={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,Tt.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Tt._)`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Ta.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=Ma(n,"then"),s=Ma(n,"else");if(!a&&!s)return;const o=t.let("valid",!0),c=t.name("_valid");if(u(),e.reset(),a&&s){const l=t.let("ifClause");e.setParams({ifClause:l}),t.if(c,d("then",l),d("else",l))}else a?t.if(c,d("then")):t.if((0,Tt.not)(c),d("else"));e.pass(o,()=>e.error(!0));function u(){const l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);e.mergeEvaluated(l)}function d(l,h){return()=>{const w=e.subschema({keyword:l},c);t.assign(o,c),e.mergeValidEvaluated(w,o),h?t.assign(h,(0,Tt._)`${l}`):e.setParams({ifClause:l})}}}};function Ma(e,t){const r=e.schema[t];return r!==void 0&&!(0,Ta.alwaysValidSchema)(e,r)}Vr.default=Ic;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});const Tc=O,Mc={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Tc.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};zr.default=Mc,Object.defineProperty(Et,"__esModule",{value:!0});const Cc=Ue,Dc=jr,Vc=Le,zc=Nr,qc=Or,Fc=Nt,Kc=Rr,Uc=Ot,Lc=kr,Gc=Ir,Hc=Tr,Jc=Mr,Wc=Cr,Zc=Dr,Bc=Vr,Xc=zr;function Yc(e=!1){const t=[Hc.default,Jc.default,Wc.default,Zc.default,Bc.default,Xc.default,Kc.default,Uc.default,Fc.default,Lc.default,Gc.default];return e?t.push(Dc.default,zc.default):t.push(Cc.default,Vc.default),t.push(qc.default),t}Et.default=Yc;var Mt={},Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.dynamicAnchor=void 0;const qr=M,Qc=se,Ca=te,xc=we,ed={keyword:"$dynamicAnchor",schemaType:"string",code:e=>Da(e,e.schema)};function Da(e,t){const{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;const a=(0,qr._)`${Qc.default.dynamicAnchors}${(0,qr.getProperty)(t)}`,s=n.errSchemaPath==="#"?n.validateName:td(e);r.if((0,qr._)`!${a}`,()=>r.assign(a,s))}Ge.dynamicAnchor=Da;function td(e){const{schemaEnv:t,schema:r,self:n}=e.it,{root:a,baseId:s,localRefs:o,meta:c}=t.root,{schemaId:u}=n.opts,d=new Ca.SchemaEnv({schema:r,schemaId:u,root:a,baseId:s,localRefs:o,meta:c});return Ca.compileSchema.call(n,d),(0,xc.getValidate)(e,d)}Ge.default=ed;var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.dynamicRef=void 0;const Va=M,rd=se,za=we,nd={keyword:"$dynamicRef",schemaType:"string",code:e=>qa(e,e.schema)};function qa(e,t){const{gen:r,keyword:n,it:a}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const s=t.slice(1);if(a.allErrors)o();else{const u=r.let("valid",!1);o(u),e.ok(u)}function o(u){if(a.schemaEnv.root.dynamicAnchors[s]){const d=r.let("_v",(0,Va._)`${rd.default.dynamicAnchors}${(0,Va.getProperty)(s)}`);r.if(d,c(d,u),c(a.validateName,u))}else c(a.validateName,u)()}function c(u,d){return d?()=>r.block(()=>{(0,za.callRef)(e,u),r.let(d,!0)}):()=>(0,za.callRef)(e,u)}}He.dynamicRef=qa,He.default=nd;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});const ad=Ge,sd=O,od={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,ad.dynamicAnchor)(e,""):(0,sd.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};Fr.default=od;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});const id=He,cd={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,id.dynamicRef)(e,e.schema)};Kr.default=cd,Object.defineProperty(Mt,"__esModule",{value:!0});const dd=Ge,ud=He,ld=Fr,fd=Kr,md=[dd.default,ud.default,ld.default,fd.default];Mt.default=md;var Ct={},Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});const Fa=Nt,hd={keyword:"dependentRequired",type:"object",schemaType:"object",error:Fa.error,code:e=>(0,Fa.validatePropertyDeps)(e)};Ur.default=hd;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});const pd=Nt,$d={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,pd.validateSchemaDeps)(e)};Lr.default=$d;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});const yd=O,vd={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,yd.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};Gr.default=vd,Object.defineProperty(Ct,"__esModule",{value:!0});const gd=Ur,_d=Lr,bd=Gr,wd=[gd.default,_d.default,bd.default];Ct.default=wd;var Dt={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});const Ne=M,Ka=O,Pd=se,Ed={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:e})=>(0,Ne._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},code(e){const{gen:t,schema:r,data:n,errsCount:a,it:s}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:o,props:c}=s;c instanceof Ne.Name?t.if((0,Ne._)`${c} !== true`,()=>t.forIn("key",n,h=>t.if(d(c,h),()=>u(h)))):c!==!0&&t.forIn("key",n,h=>c===void 0?u(h):t.if(l(c,h),()=>u(h))),s.props=!0,e.ok((0,Ne._)`${a} === ${Pd.default.errors}`);function u(h){if(r===!1){e.setParams({unevaluatedProperty:h}),e.error(),o||t.break();return}if(!(0,Ka.alwaysValidSchema)(s,r)){const w=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:h,dataPropType:Ka.Type.Str},w),o||t.if((0,Ne.not)(w),()=>t.break())}}function d(h,w){return(0,Ne._)`!${h} || !${h}[${w}]`}function l(h,w){const _=[];for(const v in h)h[v]===!0&&_.push((0,Ne._)`${w} !== ${v}`);return(0,Ne.and)(..._)}}};Hr.default=Ed;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});const Me=M,Ua=O,Sd={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:e}})=>(0,Me.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Me._)`{limit: ${e}}`},code(e){const{gen:t,schema:r,data:n,it:a}=e,s=a.items||0;if(s===!0)return;const o=t.const("len",(0,Me._)`${n}.length`);if(r===!1)e.setParams({len:s}),e.fail((0,Me._)`${o} > ${s}`);else if(typeof r=="object"&&!(0,Ua.alwaysValidSchema)(a,r)){const u=t.var("valid",(0,Me._)`${o} <= ${s}`);t.if((0,Me.not)(u),()=>c(u,s)),e.ok(u)}a.items=!0;function c(u,d){t.forRange("i",d,o,l=>{e.subschema({keyword:"unevaluatedItems",dataProp:l,dataPropType:Ua.Type.Num},u),a.allErrors||t.if((0,Me.not)(u),()=>t.break())})}}};Jr.default=Sd,Object.defineProperty(Dt,"__esModule",{value:!0});const jd=Hr,Nd=Jr,Od=[jd.default,Nd.default];Dt.default=Od;var Vt={},Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});const J=M,Rd={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,J.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,J._)`{format: ${e}}`},code(e,t){const{gen:r,data:n,$data:a,schema:s,schemaCode:o,it:c}=e,{opts:u,errSchemaPath:d,schemaEnv:l,self:h}=c;if(!u.validateFormats)return;a?w():_();function w(){const v=r.scopeValue("formats",{ref:h.formats,code:u.code.formats}),b=r.const("fDef",(0,J._)`${v}[${o}]`),p=r.let("fType"),m=r.let("format");r.if((0,J._)`typeof ${b} == "object" && !(${b} instanceof RegExp)`,()=>r.assign(p,(0,J._)`${b}.type || "string"`).assign(m,(0,J._)`${b}.validate`),()=>r.assign(p,(0,J._)`"string"`).assign(m,b)),e.fail$data((0,J.or)(g(),S()));function g(){return u.strictSchema===!1?J.nil:(0,J._)`${o} && !${m}`}function S(){const N=l.$async?(0,J._)`(${b}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,J._)`${m}(${n})`,R=(0,J._)`(typeof ${m} == "function" ? ${N} : ${m}.test(${n}))`;return(0,J._)`${m} && ${m} !== true && ${p} === ${t} && !${R}`}}function _(){const v=h.formats[s];if(!v){g();return}if(v===!0)return;const[b,p,m]=S(v);b===t&&e.pass(N());function g(){if(u.strictSchema===!1){h.logger.warn(R());return}throw new Error(R());function R(){return`unknown format "${s}" ignored in schema at path "${d}"`}}function S(R){const F=R instanceof RegExp?(0,J.regexpCode)(R):u.code.formats?(0,J._)`${u.code.formats}${(0,J.getProperty)(s)}`:void 0,W=r.scopeValue("formats",{key:s,ref:R,code:F});return typeof R=="object"&&!(R instanceof RegExp)?[R.type||"string",R.validate,(0,J._)`${W}.validate`]:["string",R,W]}function N(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!l.$async)throw new Error("async format in sync schema");return(0,J._)`await ${m}(${n})`}return typeof p=="function"?(0,J._)`${m}(${n})`:(0,J._)`${m}.test(${n})`}}}};Wr.default=Rd,Object.defineProperty(Vt,"__esModule",{value:!0});const kd=[Wr.default];Vt.default=kd;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.contentVocabulary=Ce.metadataVocabulary=void 0,Ce.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Ce.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"],Object.defineProperty(ur,"__esModule",{value:!0});const Ad=yt,Id=_t,Td=Et,Md=Mt,Cd=Ct,Dd=Dt,Vd=Vt,La=Ce,zd=[Md.default,Ad.default,Id.default,(0,Td.default)(!0),Vd.default,La.metadataVocabulary,La.contentVocabulary,Cd.default,Dd.default];ur.default=zd;var ot={},zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.DiscrError=void 0;var Ga;(function(e){e.Tag="tag",e.Mapping="mapping"})(Ga||(zt.DiscrError=Ga={})),Object.defineProperty(ot,"__esModule",{value:!0});const Je=M,Zr=zt,Ha=te,qd=Fe(),Fd=O,Kd={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===Zr.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Je._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:s}=e,{oneOf:o}=a;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const c=n.propertyName;if(typeof c!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),d=t.const("tag",(0,Je._)`${r}${(0,Je.getProperty)(c)}`);t.if((0,Je._)`typeof ${d} == "string"`,()=>l(),()=>e.error(!1,{discrError:Zr.DiscrError.Tag,tag:d,tagName:c})),e.ok(u);function l(){const _=w();t.if(!1);for(const v in _)t.elseIf((0,Je._)`${d} === ${v}`),t.assign(u,h(_[v]));t.else(),e.error(!1,{discrError:Zr.DiscrError.Mapping,tag:d,tagName:c}),t.endIf()}function h(_){const v=t.name("valid"),b=e.subschema({keyword:"oneOf",schemaProp:_},v);return e.mergeEvaluated(b,Je.Name),v}function w(){var _;const v={},b=m(a);let p=!0;for(let N=0;N<o.length;N++){let R=o[N];if(R!=null&&R.$ref&&!(0,Fd.schemaHasRulesButRef)(R,s.self.RULES)){const W=R.$ref;if(R=Ha.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,W),R instanceof Ha.SchemaEnv&&(R=R.schema),R===void 0)throw new qd.default(s.opts.uriResolver,s.baseId,W)}const F=(_=R==null?void 0:R.properties)===null||_===void 0?void 0:_[c];if(typeof F!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${c}"`);p=p&&(b||m(R)),g(F,N)}if(!p)throw new Error(`discriminator: "${c}" must be required`);return v;function m({required:N}){return Array.isArray(N)&&N.includes(c)}function g(N,R){if(N.const)S(N.const,R);else if(N.enum)for(const F of N.enum)S(F,R);else throw new Error(`discriminator: "properties/${c}" must have "const" or "enum"`)}function S(N,R){if(typeof N!="string"||N in v)throw new Error(`discriminator: "${c}" values must be unique strings`);v[N]=R}}}};ot.default=Kd;var Br={},Ud={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/schema",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],type:["object","boolean"],$comment:"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",properties:{definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}}},Ld={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/applicator":!0},$dynamicAnchor:"meta",title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}}},Gd={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/unevaluated",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},$dynamicAnchor:"meta",title:"Unevaluated applicator vocabulary meta-schema",type:["object","boolean"],properties:{unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}}},Hd={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/content",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}}},Jd={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/core",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0},$dynamicAnchor:"meta",title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},$defs:{anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}}},Wd={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/format-annotation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},$dynamicAnchor:"meta",title:"Format vocabulary meta-schema for annotation results",type:["object","boolean"],properties:{format:{type:"string"}}},Zd={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},$dynamicAnchor:"meta",title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}},Bd={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/validation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/validation":!0},$dynamicAnchor:"meta",title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}};Object.defineProperty(Br,"__esModule",{value:!0});const Xd=Ud,Yd=Ld,Qd=Gd,xd=Hd,eu=Jd,tu=Wd,ru=Zd,nu=Bd,au=["/properties"];function su(e){return[Xd,Yd,Qd,xd,eu,t(this,tu),ru,t(this,nu)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,au):n}}Br.default=su,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2020=void 0;const r=he,n=ur,a=ot,s=Br,o="https://json-schema.org/draft/2020-12/schema";class c extends r.default{constructor(_={}){super({..._,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),n.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:_,meta:v}=this.opts;v&&(s.default.call(this,_),this.refs["http://json-schema.org/schema"]=o)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv2020=c,e.exports=t=c,e.exports.Ajv2020=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=ae;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=M;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var l=ke;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return l.default}});var h=Fe();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}(de,de.exports);var ou=de.exports,iu=ce(ou),Xr={exports:{}},qt={};Object.defineProperty(qt,"__esModule",{value:!0});const cu=yt,du=_t,uu=Et,lu=Vt,Ja=Ce,fu=[cu.default,du.default,(0,uu.default)(),lu.default,Ja.metadataVocabulary,Ja.contentVocabulary];qt.default=fu;var Yr={},mu={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/schema",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0,"https://json-schema.org/draft/2019-09/vocab/applicator":!0,"https://json-schema.org/draft/2019-09/vocab/validation":!0,"https://json-schema.org/draft/2019-09/vocab/meta-data":!0,"https://json-schema.org/draft/2019-09/vocab/format":!1,"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format"},{$ref:"meta/content"}],type:["object","boolean"],properties:{definitions:{$comment:"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.",type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},dependencies:{$comment:'"dependencies" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to "dependentSchemas" and "dependentRequired"',type:"object",additionalProperties:{anyOf:[{$recursiveRef:"#"},{$ref:"meta/validation#/$defs/stringArray"}]}}}},hu={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/applicator":!0},$recursiveAnchor:!0,title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{additionalItems:{$recursiveRef:"#"},unevaluatedItems:{$recursiveRef:"#"},items:{anyOf:[{$recursiveRef:"#"},{$ref:"#/$defs/schemaArray"}]},contains:{$recursiveRef:"#"},additionalProperties:{$recursiveRef:"#"},unevaluatedProperties:{$recursiveRef:"#"},properties:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$recursiveRef:"#"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$recursiveRef:"#"}},propertyNames:{$recursiveRef:"#"},if:{$recursiveRef:"#"},then:{$recursiveRef:"#"},else:{$recursiveRef:"#"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$recursiveRef:"#"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$recursiveRef:"#"}}}},pu={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/content",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$recursiveRef:"#"}}},$u={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/core",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0},$recursiveAnchor:!0,title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{type:"string",pattern:"^[A-Za-z][-A-Za-z0-9.:_]*$"},$ref:{type:"string",format:"uri-reference"},$recursiveRef:{type:"string",format:"uri-reference"},$recursiveAnchor:{type:"boolean",default:!1},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}}}},yu={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/format",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/format":!0},$recursiveAnchor:!0,title:"Format vocabulary meta-schema",type:["object","boolean"],properties:{format:{type:"string"}}},vu={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/meta-data":!0},$recursiveAnchor:!0,title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}},gu={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/validation",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/validation":!0},$recursiveAnchor:!0,title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}};Object.defineProperty(Yr,"__esModule",{value:!0});const _u=mu,bu=hu,wu=pu,Pu=$u,Eu=yu,Su=vu,ju=gu,Nu=["/properties"];function Ou(e){return[_u,bu,wu,Pu,t(this,Eu),Su,t(this,ju)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,Nu):n}}Yr.default=Ou,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2019=void 0;const r=he,n=qt,a=Mt,s=Ct,o=Dt,c=ot,u=Yr,d="https://json-schema.org/draft/2019-09/schema";class l extends r.default{constructor(p={}){super({...p,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(a.default),n.default.forEach(p=>this.addVocabulary(p)),this.addVocabulary(s.default),this.addVocabulary(o.default),this.opts.discriminator&&this.addKeyword(c.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:p,meta:m}=this.opts;m&&(u.default.call(this,p),this.refs["http://json-schema.org/schema"]=d)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(d)?d:void 0)}}t.Ajv2019=l,e.exports=t=l,e.exports.Ajv2019=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var h=ae;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return h.KeywordCxt}});var w=M;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return w._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return w.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return w.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return w.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return w.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return w.CodeGen}});var _=ke;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return _.default}});var v=Fe();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return v.default}})}(Xr,Xr.exports);var Ru=Xr.exports,ku=ce(Ru),Qr={exports:{}},Au={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=he,n=qt,a=ot,s=Au,o=["/properties"],c="http://json-schema.org/draft-07/schema";class u extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(v,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}t.Ajv=u,e.exports=t=u,e.exports.Ajv=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var d=ae;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var l=M;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var h=ke;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var w=Fe();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return w.default}})})(Qr,Qr.exports);var Wa=Qr.exports,Za=ce(Wa),Iu=Object.prototype.hasOwnProperty,Tu=Object.prototype.toString,Mu=function(t,r,n){if(Tu.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var a=t.length;if(a===+a)for(var s=0;s<a;s++)r.call(n,t[s],s,t);else for(var o in t)Iu.call(t,o)&&r.call(n,t[o],o,t)},Cu=Mu,Du=L;function L(e,t,r){if(arguments.length===3)return L.set(e,t,r);if(arguments.length===2)return L.get(e,t);var n=L.bind(L,e);for(var a in L)L.hasOwnProperty(a)&&(n[a]=L[a].bind(n,e));return n}L.get=function(t,r){for(var n=Array.isArray(r)?r:L.parse(r),a=0;a<n.length;++a){var s=n[a];if(!(typeof t=="object"&&s in t))throw new Error("Invalid reference token: "+s);t=t[s]}return t},L.set=function(t,r,n){var a=Array.isArray(r)?r:L.parse(r),s=a[0];if(a.length===0)throw Error("Can not set the root object");for(var o=0;o<a.length-1;++o){var c=a[o];typeof c!="string"&&typeof c!="number"&&(c=String(c)),!(c==="__proto__"||c==="constructor"||c==="prototype")&&(c==="-"&&Array.isArray(t)&&(c=t.length),s=a[o+1],c in t||(s.match(/^(\d+|-)$/)?t[c]=[]:t[c]={}),t=t[c])}return s==="-"&&Array.isArray(t)&&(s=t.length),t[s]=n,this},L.remove=function(e,t){var r=Array.isArray(t)?t:L.parse(t),n=r[r.length-1];if(n===void 0)throw new Error('Invalid JSON pointer for remove: "'+t+'"');var a=L.get(e,r.slice(0,-1));if(Array.isArray(a)){var s=+n;if(n===""&&isNaN(s))throw new Error('Invalid array index: "'+n+'"');Array.prototype.splice.call(a,s,1)}else delete a[n]},L.dict=function(t,r){var n={};return L.walk(t,function(a,s){n[s]=a},r),n},L.walk=function(t,r,n){var a=[];n=n||function(s){var o=Object.prototype.toString.call(s);return o==="[object Object]"||o==="[object Array]"},function s(o){Cu(o,function(c,u){a.push(String(u)),n(c)?s(c):r(c,L.compile(a)),a.pop()})}(t)},L.has=function(t,r){try{L.get(t,r)}catch{return!1}return!0},L.escape=function(t){return t.toString().replace(/~/g,"~0").replace(/\//g,"~1")},L.unescape=function(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")},L.parse=function(t){if(t==="")return[];if(t.charAt(0)!=="/")throw new Error("Invalid JSON pointer: "+t);return t.substring(1).split(/\//).map(L.unescape)},L.compile=function(t){return t.length===0?"":"/"+t.map(L.escape).join("/")};var Vu=ce(Du);function Ba(e){return Vu.compile(e.map(t=>t.toString()))}const zu="topLevelSchema";function qu(e){const t={strict:!1,allErrors:!0};if(typeof e!="object")return new Za(t);switch(e.$schema){case"https://json-schema.org/draft/2020-12/schema":case"https://json-schema.org/draft/2020-12/schema#":return new iu(t);case"https://json-schema.org/draft/2019-09/schema":case"https://json-schema.org/draft/2019-09/schema#":return new ku(t);default:return new Za(t)}}function Fu(e){return e.$id??zu}class Ft{constructor(t){yn(this,"valid");yn(this,"errors");this.valid=t.length==0,this.errors=t}filterForPath(t){const r=Ba(t),n=this.errors.filter(a=>{const s=a.instancePath;return s===r||s.startsWith(r+"/")});return new Ft(n)}filterForExactPath(t){const r=Ba(t),n=this.errors.filter(a=>a.instancePath==r);return new Ft(n)}isValidAtPath(t){return this.filterForPath(t).valid}}var xr={exports:{}},Xa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(T,z){return{validate:T,compare:z}}e.fullFormats={date:t(s,o),time:t(u,d),"date-time":t(h,w),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:b,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:me,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:m,int32:{type:"number",validate:N},int64:{type:"number",validate:R},float:{type:"number",validate:F},double:{type:"number",validate:F},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,w),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(T){return T%4===0&&(T%100!==0||T%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(T){const z=n.exec(T);if(!z)return!1;const Z=+z[1],H=+z[2],ne=+z[3];return H>=1&&H<=12&&ne>=1&&ne<=(H===2&&r(Z)?29:a[H])}function o(T,z){if(T&&z)return T>z?1:T<z?-1:0}const c=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function u(T,z){const Z=c.exec(T);if(!Z)return!1;const H=+Z[1],ne=+Z[2],oe=+Z[3],ve=Z[5];return(H<=23&&ne<=59&&oe<=59||H===23&&ne===59&&oe===60)&&(!z||ve!=="")}function d(T,z){if(!(T&&z))return;const Z=c.exec(T),H=c.exec(z);if(Z&&H)return T=Z[1]+Z[2]+Z[3]+(Z[4]||""),z=H[1]+H[2]+H[3]+(H[4]||""),T>z?1:T<z?-1:0}const l=/t|\s/i;function h(T){const z=T.split(l);return z.length===2&&s(z[0])&&u(z[1],!0)}function w(T,z){if(!(T&&z))return;const[Z,H]=T.split(l),[ne,oe]=z.split(l),ve=o(Z,ne);if(ve!==void 0)return ve||d(H,oe)}const _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function b(T){return _.test(T)&&v.test(T)}const p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function m(T){return p.lastIndex=0,p.test(T)}const g=-(2**31),S=2**31-1;function N(T){return Number.isInteger(T)&&T<=S&&T>=g}function R(T){return Number.isInteger(T)}function F(){return!0}const W=/[^\\]\\Z/;function me(T){if(W.test(T))return!1;try{return new RegExp(T),!0}catch{return!1}}})(Xa);var Ya={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Wa,r=M,n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:c,schemaCode:u})=>r.str`should be ${a[c].okStr} ${u}`,params:({keyword:c,schemaCode:u})=>r._`{comparison: ${a[c].okStr}, limit: ${u}}`};e.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:s,code(c){const{gen:u,data:d,schemaCode:l,keyword:h,it:w}=c,{opts:_,self:v}=w;if(!_.validateFormats)return;const b=new t.KeywordCxt(w,v.RULES.all.format.definition,"format");b.$data?p():m();function p(){const S=u.scopeValue("formats",{ref:v.formats,code:_.code.formats}),N=u.const("fmt",r._`${S}[${b.schemaCode}]`);c.fail$data(r.or(r._`typeof ${N} != "object"`,r._`${N} instanceof RegExp`,r._`typeof ${N}.compare != "function"`,g(N)))}function m(){const S=b.schema,N=v.formats[S];if(!N||N===!0)return;if(typeof N!="object"||N instanceof RegExp||typeof N.compare!="function")throw new Error(`"${h}": format "${S}" does not define "compare" function`);const R=u.scopeValue("formats",{key:S,ref:N,code:_.code.formats?r._`${_.code.formats}${r.getProperty(S)}`:void 0});c.fail$data(g(R))}function g(S){return r._`${S}.compare(${d}, ${l}) ${a[h].fail} 0`}},dependencies:["format"]};const o=c=>(c.addKeyword(e.formatLimitDefinition),c);e.default=o})(Ya),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Xa,n=Ya,a=M,s=new a.Name("fullFormats"),o=new a.Name("fastFormats"),c=(d,l={keywords:!0})=>{if(Array.isArray(l))return u(d,l,r.fullFormats,s),d;const[h,w]=l.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,s],_=l.formats||r.formatNames;return u(d,_,h,w),l.keywords&&n.default(d),d};c.get=(d,l="full")=>{const w=(l==="fast"?r.fastFormats:r.fullFormats)[d];if(!w)throw new Error(`Unknown format "${d}"`);return w};function u(d,l,h,w){var _,v;(_=(v=d.opts.code).formats)!==null&&_!==void 0||(v.formats=a._`require("ajv-formats/dist/formats").${w}`);for(const b of l)d.addFormat(b,h[b])}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c}(xr,xr.exports);var Ku=xr.exports,Uu=ce(Ku);self.onmessage=function(e){const{type:t,data:r,schema:n,taskId:a}=e.data;if(t==="VALIDATE")try{const s=qu(n);Uu(s);const o=Fu(n);s.addSchema(n,o);const c=s.getSchema(o);if(!c){const h={type:"VALIDATION_ERROR",error:"Invalid schema provided",taskId:a};self.postMessage(h);return}c(r);const u=c.errors||[];u.length>0&&console.debug("Validation errors:",u);const l={type:"VALIDATION_COMPLETE",result:new Ft(u),taskId:a};self.postMessage(l)}catch(s){const o={type:"VALIDATION_ERROR",error:s instanceof Error?s.message:"Unknown validation error",taskId:a};self.postMessage(o)}},self.onerror=function(e){console.error("Worker error:",e)}})();
