# PRD v1.0

## Product Vision

- Vision The product reshapes document management by treating content not as static files, but as an Immutable Block Inventory. 

- These blocks are integrated with various downstream pipelines by integrating 3rd party APIs. 
  
 - Rather than a ephemeral conversion pipeline, it establishes a permanent, content-addressed ledger where every paragraph and heading possesses a stable cryptographic identity (block_uid) that persists independently of the source container.
 
 - This architecture elevates the "Block" to a first-class citizen, creating a universal bedrock upon which infinite, non-destructive layers of "User-Defined Schemas" (annotations, extractions, edits) can be superimposed without ever mutating the original provenance.

## Core Idea

- “Blocks” are the first-class unit: each block stores its original content + type + location (char spans, section path, and for fixed-layout, page linkage via Docling pages).

## Envisioned Use Cases

- Decoupling of Content (Immutable) from Interpretation (User-Defined) enables powerful parallel workflows that traditional document tools cannot support. 

- User-defined schemas can be used to achieve various objectives. 



- Distributed Intelligence, where a massive 500-page treatise can be shattered into atomic units and processed concurrently by fifty AI workers, each applying a specific "Editorial Schema" or "Risk Schema." It enables Corpus-Wide Unification, where a single query for "Liability Clauses" can traverse 10,000 disparate PDFs because they share a common structural language. Finally, it supports Granular Reconstruction, permitting the reassembly of a master document from selected, successful block variations, turning the system into a high-fidelity capabilities hub for legal research, technical writing, and knowledge graph construction.

- Example pipelines: 

  - a user uploads a document
  - the system produces the immutable block
  inventory and an initial JSON/JSONL export that
  includes the user-defined overlay fields
  - AI workers then operate in parallel at the block level, writing results back only into the user-defined overlays while leaving the immutable
  layer unchanged. Once the enriched JSON/JSONL
  is complete, it can be routed into downstream
  third‑party APIs—such as vector databases for
  retrieval, analytics/BI tools for aggregation,
  knowledge graph services for entity/relation
  ingestion, or external workflow systems for
  review and enforcement—using stable doc_uid/
  node_uid keys to preserve provenance.


  - Parallel AI editing of huge documents: split
    into blocks, multiple workers process in
    parallel (e.g., Strunk & White style
    enforcement) and store per-block outputs in
    overlays.
  - Human + AI review workflows: per-block
    comments/tags/status, with immutable
    provenance back to the exact source text
    region.
  - Corpus-wide structured extraction: run a
    schema across many docs/blocks and export
    JSONL datasets, with traceability.
  - Legal / compliance analysis: clause-level
    risk flags, citations/holdings extraction,
    audit trails that point to exact paragraphs.
  - Knowledge graph construction: extract
    entities/relations per block, store outputs
    with block IDs for provenance.
  - RAG / retrieval substrate: blocks become
    stable retrieval units (and can be grouped by
    page/section depending on format) instead of
    disposable chunks.
  - Document reconstruction: apply overlayed
    edits to blocks and re-assemble/export (the
    doc gestures at “show original content” +
    derived structure; reconstruction follows
    from that).
  - “View source” for fixed-layout docs: keep
    Docling pages[] so you can tie extracted


## Docling Supported Formats

 - using docling, the initial release will
    support the following document formats for
    ingestion.
  - Supported ingest formats (all Docling
    InputFormat): PDF, DOCX, PPTX, XLSX, CSV,
    Markdown (MD), HTML, images, AsciiDoc, XML
    (USPTO), XML (JATS), METS/GBS, Docling JSON,
    audio, VTT.

## Fixed vs Flow Layout
  - Fixed-layout sources have an intrinsic page/
    slide/frame coordinate system; flow-layout
    sources are primarily linear text where
    “pages” are a viewing artifact.
      - Fixed: PDF, PPTX, XLSX, images, METS/GBS.
      - Flow: DOCX, CSV, Markdown (MD), HTML,
        AsciiDoc, XML (USPTO), XML (JATS),
        Docling JSON, audio, VTT.






